<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å…‘æ¢ç¤¼å“å¡ - AZ Rings æ™ºèƒ½å¥åº·æˆ’æŒ‡</title>
  <style>
    :root {
      --color-primary: #ffffff;
      --color-secondary: #f0f0f0;
      --color-text: #ffffff;
      --color-text-light: #999999;
      --color-text-muted: #666666;
      --color-bg: #0a0a0a;
      --color-bg-dark: #1a1a1a;
      --color-bg-gray: #2a2a2a;
      --color-border: rgba(255,255,255,0.1);
      --color-accent: #ff6b35;
      --color-accent-hover: #ff8a65;
      --color-success: #10B981;
      --space-xs: 8px;
      --space-sm: 16px;
      --space-md: 24px;
      --space-lg: 32px;
      --space-xl: 48px;
      --space-2xl: 64px;
      --space-3xl: 80px;
      --font-size-sm: 14px;
      --font-size-base: 16px;
      --font-size-lg: 18px;
      --font-size-xl: 24px;
      --font-size-2xl: 32px;
      --font-size-3xl: 48px;
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --shadow-sm: 0 2px 8px rgba(0,0,0,0.08);
      --shadow-md: 0 4px 16px rgba(0,0,0,0.12);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
      line-height: 1.6;
      color: var(--color-text);
      background: var(--color-bg);
      -webkit-font-smoothing: antialiased;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 var(--space-md);
    }

    /* HeroåŒºåŸŸ */
    .hero-section {
      position: relative;
      height: 50vh;
      min-height: 400px;
      background: linear-gradient(135deg, var(--color-bg) 0%, var(--color-bg-dark) 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .hero-carousel {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    .carousel-slide {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0;
      transition: opacity 0.6s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .carousel-slide.active {
      opacity: 1;
    }

    .carousel-slide img {
      max-width: 50%;
      max-height: 350px;
      object-fit: contain;
    }

    .carousel-indicators {
      position: absolute;
      bottom: var(--space-xl);
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: var(--space-sm);
      z-index: 10;
    }

    .indicator {
      width: 40px;
      height: 4px;
      background: rgba(255,255,255,0.3);
      border: none;
      border-radius: 2px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .indicator.active {
      background: var(--color-accent);
    }

    .hero-content {
      position: relative;
      z-index: 5;
      text-align: center;
      color: var(--color-text);
      max-width: 600px;
      padding: 40px 20px;
    }

    .hero-title {
      font-size: 2.5rem;
      font-weight: 600;
      margin-bottom: 20px;
      letter-spacing: -0.02em;
    }

    .hero-subtitle {
      font-size: var(--font-size-lg);
      color: var(--color-text-light);
      margin-bottom: var(--space-xl);
    }

    .hero-cta {
      display: inline-block;
      padding: 16px 48px;
      background: var(--color-accent);
      color: white;
      text-decoration: none;
      border-radius: var(--radius-sm);
      font-size: var(--font-size-base);
      font-weight: 500;
      transition: all 0.3s ease;
    }

    .hero-cta:hover {
      background: var(--color-accent-hover);
      transform: translateY(-2px);
    }

    /* äº§å“ç‰¹è‰²åŒº */
    .features-section {
      padding: var(--space-3xl) 0;
      background: var(--color-bg-dark);
    }

    .section-title {
      text-align: center;
      font-size: var(--font-size-2xl);
      font-weight: 600;
      margin-bottom: var(--space-2xl);
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: var(--space-lg);
    }

    .feature-card {
      padding: var(--space-xl);
      background: var(--color-bg-gray);
      border-radius: var(--radius-md);
      border: 1px solid var(--color-border);
      text-align: center;
      transition: transform 0.2s ease, border-color 0.2s ease;
    }

    .feature-card:hover {
      transform: translateY(-4px);
      border-color: rgba(255,255,255,0.2);
    }

    .feature-icon {
      width: 64px;
      height: 64px;
      margin: 0 auto var(--space-md);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .feature-icon svg {
      width: 100%;
      height: 100%;
      stroke: var(--color-accent);
    }

    .feature-title {
      font-size: var(--font-size-lg);
      font-weight: 600;
      margin-bottom: var(--space-sm);
    }

    .feature-desc {
      font-size: var(--font-size-sm);
      color: var(--color-text-light);
      line-height: 1.6;
    }

    /* å…‘æ¢è¡¨å•åŒº */
    .redeem-section {
      padding: var(--space-3xl) 0;
      background: var(--color-bg);
    }

    .redeem-card {
      max-width: 600px;
      margin: 0 auto;
      background: var(--color-bg-dark);
      border-radius: var(--radius-lg);
      padding: var(--space-xl);
      box-shadow: 0 4px 24px rgba(0,0,0,0.4);
      border: 1px solid var(--color-border);
    }

    .step {
      display: none;
    }

    .step.active {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .step-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: var(--space-lg);
    }

    .step-badge {
      display: inline-block;
      padding: 4px 12px;
      background: var(--color-bg-gray);
      border-radius: 999px;
      font-size: var(--font-size-sm);
      color: var(--color-text-light);
    }

    .btn-back {
      padding: 8px 16px;
      background: transparent;
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      cursor: pointer;
      font-size: var(--font-size-sm);
      font-family: inherit;
      color: var(--color-text-light);
      transition: all 0.2s ease;
    }

    .btn-back:hover {
      border-color: var(--color-accent);
      color: var(--color-accent);
    }

    .product-info {
      padding: var(--space-md);
      background: var(--color-bg-gray);
      border-radius: var(--radius-sm);
      margin-bottom: var(--space-lg);
      border: 1px solid var(--color-border);
    }

    .product-info p {
      margin-bottom: var(--space-xs);
      font-size: var(--font-size-sm);
    }

    .form-group {
      margin-bottom: var(--space-md);
    }

    .form-group label {
      display: block;
      margin-bottom: var(--space-xs);
      font-size: var(--font-size-sm);
      font-weight: 500;
      color: var(--color-text-light);
    }

    .form-group input,
    .form-group textarea {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid var(--color-border);
      background: var(--color-bg-gray);
      color: var(--color-text);
      border-radius: var(--radius-sm);
      font-size: var(--font-size-base);
      font-family: inherit;
      transition: border-color 0.2s ease, background 0.2s ease;
    }

    .form-group input:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--color-accent);
      background: var(--color-bg-dark);
    }

    .form-group input::placeholder,
    .form-group textarea::placeholder {
      color: var(--color-text-muted);
    }

    .form-group textarea {
      min-height: 80px;
      resize: vertical;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-md);
    }

    .btn-primary,
    .btn-secondary {
      width: 100%;
      padding: 14px 24px;
      border: none;
      border-radius: var(--radius-sm);
      font-size: var(--font-size-base);
      font-weight: 500;
      cursor: pointer;
      transition: opacity 0.2s ease;
      font-family: inherit;
    }

    .btn-primary {
      background: var(--color-primary);
      color: var(--color-bg);
    }

    .btn-primary:hover {
      background: var(--color-secondary);
      transform: translateY(-2px);
    }

    .btn-secondary {
      background: var(--color-bg-gray);
      color: var(--color-text);
      border: 1px solid var(--color-border);
      margin-top: var(--space-md);
    }

    .btn-secondary:hover {
      background: var(--color-bg-dark);
      border-color: rgba(255,255,255,0.2);
    }

    .success-content {
      text-align: center;
      padding: var(--space-xl) 0;
    }

    .success-icon {
      width: 64px;
      height: 64px;
      margin: 0 auto var(--space-lg);
    }

    .success-icon svg {
      width: 100%;
      height: 100%;
      stroke: var(--color-success);
    }

    .success-content h3 {
      font-size: var(--font-size-xl);
      margin-bottom: var(--space-md);
      color: var(--color-text);
    }

    .success-content p {
      color: var(--color-text-light);
      margin-bottom: var(--space-sm);
    }

    /* ç‰©æµæŸ¥è¯¢åŒºï¼ˆæŠ˜å ï¼‰ */
    .tracking-section {
      max-width: 600px;
      margin: var(--space-xl) auto 0;
      background: var(--color-bg-dark);
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: 0 4px 16px rgba(0,0,0,0.3);
      border: 1px solid var(--color-border);
    }

    .tracking-toggle {
      width: 100%;
      padding: var(--space-md);
      background: var(--color-bg-dark);
      border: none;
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: pointer;
      font-size: var(--font-size-base);
      font-weight: 500;
      font-family: inherit;
      color: var(--color-text);
      transition: background 0.2s ease;
    }

    .tracking-toggle:hover {
      background: var(--color-bg-gray);
    }

    .tracking-toggle .chevron {
      width: 20px;
      height: 20px;
      transition: transform 0.3s ease;
      stroke: var(--color-text);
    }

    .tracking-section.expanded .chevron {
      transform: rotate(180deg);
    }

    .tracking-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
      padding: 0 var(--space-md);
    }

    .tracking-section.expanded .tracking-content {
      max-height: 800px;
      overflow-y: auto;
      padding: var(--space-md);
    }

    .tracking-result {
      margin-top: var(--space-md);
      padding: var(--space-md);
      background: var(--color-bg-gray);
      border-radius: var(--radius-sm);
      border: 1px solid var(--color-border);
      display: none;
    }

    .tracking-result.show {
      display: block;
    }

    .tracking-result h4 {
      margin-bottom: var(--space-sm);
      font-size: var(--font-size-base);
      color: var(--color-text);
    }

    .tracking-result p {
      margin-bottom: var(--space-xs);
      font-size: var(--font-size-sm);
      color: var(--color-text-light);
    }

    .tracking-result hr {
      border: none;
      border-top: 1px solid var(--color-border);
      margin: 16px 0;
    }

    /* ç‰©æµè½¨è¿¹æ—¶é—´çº¿æ ·å¼ */
    .logistics-timeline {
      margin-top: 24px;
      padding: 20px;
      background: var(--color-bg-gray);
      border-radius: var(--radius-md);
      max-height: 600px;
      overflow-y: auto;
    }

    /* æ»šåŠ¨æ¡æ ·å¼ */
    .logistics-timeline::-webkit-scrollbar {
      width: 6px;
    }

    .logistics-timeline::-webkit-scrollbar-track {
      background: rgba(255,255,255,0.05);
      border-radius: 3px;
    }

    .logistics-timeline::-webkit-scrollbar-thumb {
      background: rgba(255,255,255,0.2);
      border-radius: 3px;
    }

    .logistics-timeline::-webkit-scrollbar-thumb:hover {
      background: rgba(255,255,255,0.3);
    }

    .logistics-status-badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: bold;
      margin-bottom: 16px;
    }

    .status-transporting { background: #3B82F6; color: white; }
    .status-signed { background: #10B981; color: white; }
    .status-delivering { background: #F59E0B; color: white; }
    .status-problem { background: #EF4444; color: white; }

    .timeline-item {
      position: relative;
      padding-left: 30px;
      padding-bottom: 20px;
      border-left: 2px solid rgba(255,255,255,0.1);
    }

    .timeline-item:last-child {
      border-left: none;
      padding-bottom: 0;
    }

    .timeline-item.latest {
      border-left-color: #10B981;
    }

    .timeline-dot {
      position: absolute;
      left: -6px;
      top: 0;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: rgba(255,255,255,0.3);
    }

    .timeline-item.latest .timeline-dot {
      background: #10B981;
      box-shadow: 0 0 10px #10B981;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .timeline-time {
      font-size: 13px;
      color: var(--color-text-light);
      margin-bottom: 4px;
    }

    .timeline-item.latest .timeline-time {
      color: #10B981;
      font-weight: bold;
    }

    .timeline-content {
      color: var(--color-text);
      font-size: 14px;
      line-height: 1.6;
    }

    .timeline-location {
      font-size: 12px;
      color: var(--color-text-muted);
      margin-top: 4px;
    }

    .logistics-info-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 20px;
      padding: 16px;
      background: rgba(255,255,255,0.03);
      border-radius: 8px;
    }

    .logistics-info-item {
      font-size: 14px;
    }

    .logistics-info-item strong {
      color: var(--color-text-light);
      display: block;
      margin-bottom: 4px;
      font-size: 12px;
    }

    /* äº§å“ç”»å»ŠåŒº */
    .gallery-section {
      padding: var(--space-3xl) 0;
      background: var(--color-bg-dark);
    }

    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: var(--space-lg);
    }

    .gallery-item {
      border-radius: var(--radius-md);
      overflow: hidden;
      box-shadow: 0 4px 16px rgba(0,0,0,0.3);
      border: 1px solid var(--color-border);
      transition: transform 0.2s ease, border-color 0.2s ease;
    }

    .gallery-item:hover {
      transform: translateY(-4px);
      border-color: rgba(255,255,255,0.2);
    }

    .gallery-item img {
      width: 100%;
      height: 300px;
      object-fit: cover;
    }

    .gallery-item p {
      padding: var(--space-md);
      text-align: center;
      font-weight: 500;
      background: var(--color-bg-gray);
      color: var(--color-text);
    }

    /* Footer */
    .footer {
      padding: var(--space-xl) 0;
      text-align: center;
      color: var(--color-text-muted);
      font-size: var(--font-size-sm);
      background: var(--color-bg);
      border-top: 1px solid var(--color-border);
    }

    /* 3æ­¥æµç¨‹åŒº */
    .steps-section {
      padding: 60px 0;
      background: var(--color-bg);
    }

    .steps-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 30px;
      max-width: 900px;
      margin: 0 auto;
    }

    .step-card {
      text-align: center;
      padding: 30px 20px;
      background: var(--color-bg-dark);
      border-radius: 12px;
      border: 1px solid var(--color-border);
      transition: transform 0.3s ease, border-color 0.3s ease;
    }

    .step-card:hover {
      transform: translateY(-5px);
      border-color: rgba(255,255,255,0.2);
    }

    .step-number {
      width: 50px;
      height: 50px;
      background: var(--color-accent);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      font-weight: 700;
      margin: 0 auto 20px;
    }

    .step-title {
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 10px;
      color: var(--color-text);
    }

    .step-desc {
      font-size: 0.9rem;
      color: var(--color-text-light);
      line-height: 1.6;
    }

    /* åŒºå—è¯´æ˜æ–‡æ¡ˆ */
    .section-intro {
      text-align: center;
      max-width: 600px;
      margin: 0 auto 40px;
    }

    .section-intro h2 {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 15px;
      color: var(--color-text);
    }

    .section-intro p {
      font-size: 1rem;
      color: var(--color-text-light);
      line-height: 1.8;
    }

    /* å®¢æœå¡ç‰‡ */
    .service-card {
      background: linear-gradient(135deg, var(--color-bg-dark) 0%, var(--color-bg-gray) 100%);
      border: 1px solid var(--color-border);
      border-radius: 16px;
      padding: 40px;
      margin: 60px 0;
      box-shadow: 0 4px 24px rgba(0,0,0,0.4);
    }

    .service-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 40px;
      max-width: 900px;
      margin: 0 auto;
    }

    .service-text {
      flex: 1;
    }

    .service-text h3 {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 15px;
      color: var(--color-text);
    }

    .service-text p {
      font-size: 1rem;
      color: var(--color-text-light);
      line-height: 1.8;
      margin-bottom: 25px;
    }

    .service-features {
      display: flex;
      gap: 30px;
    }

    .feature-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.9rem;
      color: var(--color-text-light);
    }

    .feature-item svg {
      width: 20px;
      height: 20px;
      stroke: var(--color-accent);
      fill: none;
    }

    .service-qr {
      text-align: center;
      flex-shrink: 0;
    }

    .service-qr img {
      width: 150px;
      height: 150px;
      border-radius: 12px;
      border: 3px solid var(--color-border);
      box-shadow: 0 4px 16px rgba(0,0,0,0.3);
    }

    .service-qr p {
      margin-top: 12px;
      font-size: 0.9rem;
      color: var(--color-text-light);
      font-weight: 500;
    }

    /* æˆ’æŒ‡é€‰æ‹©åŒº */
    .ring-selection {
      margin-bottom: var(--space-lg);
      padding: var(--space-lg);
      background: var(--color-bg-gray);
      border-radius: var(--radius-md);
      border: 1px solid var(--color-border);
    }

    .ring-selection h4 {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* å‹å·é€‰æ‹©å¡ç‰‡ */
    .model-options {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }

    .model-card {
      position: relative;
      display: block;
      cursor: pointer;
      border: 2px solid var(--color-border);
      border-radius: var(--radius-md);
      padding: 16px;
      background: var(--color-bg-dark);
      transition: all 0.3s ease;
      overflow: hidden;
    }

    .model-card:hover {
      border-color: rgba(255,255,255,0.3);
      transform: translateY(-2px);
    }

    .model-card input[type="radio"] {
      position: absolute;
      opacity: 0;
      pointer-events: none;
    }

    .model-card input[type="radio"]:checked ~ .check-icon {
      opacity: 1;
      transform: scale(1);
    }

    .model-card:has(input[type="radio"]:checked) {
      border-color: var(--color-accent);
      background: linear-gradient(135deg, var(--color-bg-dark) 0%, rgba(255,107,53,0.1) 100%);
      box-shadow: 0 0 0 3px rgba(255,107,53,0.2);
    }

    .model-card-content {
      position: relative;
      text-align: center;
    }

    .model-image {
      width: 100%;
      height: 120px;
      object-fit: cover;
      border-radius: 8px;
      margin-bottom: 8px;
      background: var(--color-bg-gray);
    }

    .model-name {
      display: block;
      font-weight: 600;
      color: var(--color-text);
      margin-top: 8px;
      font-size: 0.95rem;
    }

    .model-price-adjustment {
      display: block;
      font-size: 0.85rem;
      color: var(--color-text-light);
      margin-top: 4px;
    }

    /* é¢œè‰²é€‰æ‹©å¡ç‰‡ */
    .color-options {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }

    .color-card {
      position: relative;
      display: block;
      cursor: pointer;
      border: 2px solid var(--color-border);
      border-radius: var(--radius-md);
      padding: 16px;
      background: var(--color-bg-dark);
      transition: all 0.3s ease;
      overflow: hidden;
    }

    .color-card:hover {
      border-color: rgba(255,255,255,0.3);
      transform: translateY(-2px);
    }

    .color-card input[type="radio"] {
      position: absolute;
      opacity: 0;
      pointer-events: none;
    }

    .color-card input[type="radio"]:checked ~ .check-icon {
      opacity: 1;
      transform: scale(1);
    }

    .color-card:has(input[type="radio"]:checked) {
      border-color: var(--color-accent);
      background: linear-gradient(135deg, var(--color-bg-dark) 0%, rgba(255,107,53,0.1) 100%);
      box-shadow: 0 0 0 3px rgba(255,107,53,0.2);
    }

    .color-card-content {
      position: relative;
      text-align: center;
    }

    .color-card-content img {
      width: 100%;
      height: 120px;
      object-fit: contain;
      margin-bottom: 12px;
      filter: brightness(0.9);
      transition: filter 0.3s ease;
    }

    .color-card:hover .color-card-content img {
      filter: brightness(1);
    }

    .color-name {
      display: block;
      font-size: 1rem;
      font-weight: 600;
      color: var(--color-text);
      margin-top: 8px;
    }

    .popular-badge {
      display: inline-block;
      margin-top: 6px;
      padding: 2px 8px;
      background: var(--color-accent);
      color: white;
      font-size: 0.75rem;
      border-radius: 10px;
      font-weight: 500;
    }

    .check-icon {
      position: absolute;
      top: 12px;
      right: 12px;
      width: 24px;
      height: 24px;
      background: var(--color-accent);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transform: scale(0.5);
      transition: all 0.3s ease;
    }

    .check-icon svg {
      width: 14px;
      height: 14px;
      stroke: white;
    }

    /* åœˆå·é€‰æ‹©å™¨ */
    .size-select {
      width: 100%;
      padding: 12px 16px;
      background: var(--color-bg-gray);
      color: var(--color-text);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      font-size: var(--font-size-base);
      font-family: inherit;
      cursor: pointer;
      transition: all 0.2s ease;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23999999' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 16px center;
      padding-right: 40px;
    }

    .size-select:hover {
      border-color: rgba(255,255,255,0.3);
    }

    .size-select:focus {
      outline: none;
      border-color: var(--color-accent);
      background: var(--color-bg-dark);
    }

    .size-select option {
      background: var(--color-bg-dark);
      color: var(--color-text);
      padding: 12px;
    }

    .help-text {
      margin-top: 8px;
      font-size: 0.875rem;
      color: var(--color-text-light);
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .help-text a {
      color: var(--color-accent);
      text-decoration: none;
      transition: opacity 0.2s ease;
    }

    .help-text a:hover {
      opacity: 0.8;
      text-decoration: underline;
    }

    /* å°ºå¯¸æŒ‡å—å¼¹çª— */
    .size-guide-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.8);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      backdrop-filter: blur(4px);
    }

    .size-guide-overlay.show {
      display: flex;
    }

    .size-guide-modal {
      background: var(--color-bg-dark);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-lg);
      padding: var(--space-xl);
      max-width: 500px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      position: relative;
    }

    .size-guide-modal h3 {
      font-size: 1.5rem;
      color: var(--color-text);
      margin-bottom: var(--space-md);
    }

    .size-guide-close {
      position: absolute;
      top: 16px;
      right: 16px;
      width: 32px;
      height: 32px;
      background: transparent;
      border: none;
      color: var(--color-text-light);
      cursor: pointer;
      font-size: 24px;
      line-height: 1;
      transition: color 0.2s ease;
    }

    .size-guide-close:hover {
      color: var(--color-text);
    }

    .size-guide-content {
      color: var(--color-text-light);
      line-height: 1.8;
    }

    .size-guide-content ol {
      margin: 16px 0;
      padding-left: 24px;
    }

    .size-guide-content li {
      margin-bottom: 12px;
    }

    .size-table {
      width: 100%;
      margin: 20px 0;
      border-collapse: collapse;
    }

    .size-table th,
    .size-table td {
      padding: 12px;
      text-align: left;
      border: 1px solid var(--color-border);
    }

    .size-table th {
      background: var(--color-bg-gray);
      color: var(--color-text);
      font-weight: 600;
    }

    .size-table td {
      color: var(--color-text-light);
    }

    /* å“åº”å¼ */
    @media (max-width: 768px) {
      .hero-title { font-size: var(--font-size-2xl); }
      .carousel-slide img { max-width: 80%; }
      .features-grid { grid-template-columns: 1fr; }
      .form-row { grid-template-columns: 1fr; }
      .gallery-grid { grid-template-columns: 1fr; }
      
      .steps-grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      
      .service-card {
        padding: 30px 20px;
      }
      
      .service-content {
        flex-direction: column;
        text-align: center;
      }
      
      .service-features {
        justify-content: center;
        flex-wrap: wrap;
      }
      
      .ring-selection {
        padding: var(--space-md);
      }
      
      .color-options {
        grid-template-columns: 1fr;
        gap: 12px;
      }
      
      .color-card-content img {
        height: 100px;
      }
      
      .size-guide-modal {
        width: 95%;
        padding: var(--space-md);
      }
    }
  </style>
</head>
<body>
  <!-- HeroåŒºåŸŸ -->
  <section class="hero-section">
    <div class="hero-carousel">
      <div class="carousel-slide active">
        <div style="width: 100%; height: 400px; background: linear-gradient(135deg, #2c3e50, #34495e); display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; border-radius: 8px;">
          AZ Ring ç»å…¸é»‘
        </div>
      </div>
      <div class="carousel-slide">
        <div style="width: 100%; height: 400px; background: linear-gradient(135deg, #d4af37, #f4e5a1); display: flex; align-items: center; justify-content: center; color: #333; font-size: 24px; border-radius: 8px;">
          AZ Ring å¥¢åé‡‘
        </div>
      </div>
      <div class="carousel-indicators">
        <button class="indicator active" data-slide="0" aria-label="æŸ¥çœ‹é»‘è‰²æˆ’æŒ‡"></button>
        <button class="indicator" data-slide="1" aria-label="æŸ¥çœ‹é‡‘è‰²æˆ’æŒ‡"></button>
      </div>
    </div>
    <div class="hero-content">
      <h1 class="hero-title">å…‘æ¢æ‚¨çš„ AZ Ring æ™ºèƒ½å¥åº·æˆ’æŒ‡</h1>
      <p class="hero-subtitle">ç”±å®æ ¼ä¸½è®¾è®¡å¸ˆæ“åˆ€ Â· 360åº¦å…¨æ—¶æ®µå¥åº·å®ˆæŠ¤</p>
      <a href="#redeem-section" class="hero-cta">ç«‹å³å…‘æ¢</a>
    </div>
  </section>

  <!-- 3æ­¥æµç¨‹åŒº -->
  <section class="steps-section">
    <div class="container">
      <div class="steps-grid">
        <div class="step-card">
          <div class="step-number">1</div>
          <h3 class="step-title">éªŒè¯å…‘æ¢ç </h3>
          <p class="step-desc">è¾“å…¥æ‚¨çš„å…‘æ¢ç ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨éªŒè¯æœ‰æ•ˆæ€§</p>
        </div>
        <div class="step-card">
          <div class="step-number">2</div>
          <h3 class="step-title">å¡«å†™æ”¶è´§ä¿¡æ¯</h3>
          <p class="step-desc">å¡«å†™å‡†ç¡®çš„æ”¶è´§åœ°å€ï¼Œç¡®ä¿é¡ºåˆ©é€è¾¾</p>
        </div>
        <div class="step-card">
          <div class="step-number">3</div>
          <h3 class="step-title">å®Œæˆå…‘æ¢</h3>
          <p class="step-desc">æäº¤åæˆ‘ä»¬å°†å°½å¿«å®‰æ’å‘è´§ï¼Œå¯éšæ—¶æŸ¥è¯¢ç‰©æµ</p>
        </div>
      </div>
    </div>
  </section>

  <!-- äº§å“ç‰¹è‰²åŒº -->
  <section class="features-section">
    <div class="container">
      <h2 class="section-title">äº§å“ç‰¹è‰²</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path>
            </svg>
          </div>
          <h3 class="feature-title">ä¸“ä¸šç¡çœ ç›‘æµ‹</h3>
          <p class="feature-desc">15+é¡¹ç¡çœ ä¸“é¡¹åˆ†æï¼Œè¦†ç›–æ·±ç¡ã€æµ…ç¡ã€REMå…¨é˜¶æ®µ</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
            </svg>
          </div>
          <h3 class="feature-title">24å°æ—¶å¿ƒç‡è¿½è¸ª</h3>
          <p class="feature-desc">å®æ—¶ç›‘æµ‹å¿ƒç‡å˜åŒ–ï¼Œç²¾å‡†è®°å½•è¿åŠ¨ä¸ç¡çœ çŠ¶æ€</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"></circle>
              <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
          </div>
          <h3 class="feature-title">æ™ºèƒ½è¿åŠ¨åˆ†æ</h3>
          <p class="feature-desc">æ”¯æŒæ•°åç§è¿åŠ¨ç±»å‹ï¼Œè‡ªåŠ¨è¯†åˆ«å¹¶è®°å½•è¿åŠ¨æ•°æ®</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"></path>
              <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
              <line x1="12" y1="19" x2="12" y2="22"></line>
            </svg>
          </div>
          <h3 class="feature-title">æè‡´è½»ç›ˆ</h3>
          <p class="feature-desc">ä»…é‡3gï¼Œ7å¤©è¶…é•¿ç»­èˆªï¼Œ5ATMé˜²æ°´é˜²å°˜</p>
        </div>
      </div>
    </div>
  </section>

  <!-- å…‘æ¢è¡¨å•åŒº -->
  <section class="redeem-section" id="redeem-section">
    <div class="container">
      <div class="section-intro">
        <h2>å…‘æ¢æ‚¨çš„ç¤¼å“</h2>
        <p>æ¯ä¸ªå…‘æ¢ç ä»…å¯ä½¿ç”¨ä¸€æ¬¡ï¼Œè¯·ç¡®ä¿ä¿¡æ¯å‡†ç¡®æ— è¯¯ã€‚å¦‚æœ‰ç–‘é—®ï¼Œè¯·è”ç³»å®¢æœå’¨è¯¢ã€‚</p>
      </div>
      
      <div class="redeem-card">
        <!-- æ­¥éª¤1 -->
        <div class="step active" id="step1">
          <div class="step-header">
            <span class="step-badge">æ­¥éª¤ 1/2</span>
          </div>
          <h3 style="margin-bottom: 16px; color: var(--color-text);">éªŒè¯å…‘æ¢ç </h3>
          <div class="form-group">
            <label>å…‘æ¢ç </label>
            <input type="text" id="redeemCode" placeholder="è¯·è¾“å…¥å¡ç‰‡èƒŒé¢çš„å…‘æ¢ç " maxlength="20">
          </div>
          <button class="btn-primary" onclick="validateCodeA()">ç»§ç»­</button>
        </div>

        <!-- æ­¥éª¤2 -->
        <div class="step" id="step2">
          <div class="step-header">
            <span class="step-badge">æ­¥éª¤ 2/2</span>
            <button class="btn-back" onclick="goBackToStep1()">è¿”å›</button>
          </div>
          
          <h3 style="margin-bottom: 16px; color: var(--color-text);">å¡«å†™æ”¶è´§ä¿¡æ¯</h3>
          
          <div class="product-info">
            <p><strong>å•†å“ï¼š</strong><span id="productName"></span></p>
            <p><strong>ä»·å€¼ï¼š</strong><span id="productValue"></span></p>
          </div>

          <form id="redeemForm">
            <!-- æˆ’æŒ‡é€‰æ‹©åŒº -->
            <div class="ring-selection">
              <h4 style="font-size: 1.1rem; font-weight: 600; margin-bottom: 20px; color: var(--color-text);">é€‰æ‹©æ‚¨çš„æˆ’æŒ‡</h4>

              <!-- å‹å·é€‰æ‹© -->
              <div class="form-group" id="modelSelectionGroup" style="display: none;">
                <label>æˆ’æŒ‡å‹å· <span style="color: var(--color-accent);">*</span></label>
                <div class="model-options" id="modelOptions">
                  <!-- åŠ¨æ€æ¸²æŸ“å‹å·é€‰é¡¹ -->
                </div>
              </div>

              <!-- é¢œè‰²é€‰æ‹© -->
              <div class="form-group" id="colorSelectionGroup" style="display: none;">
                <label>æˆ’æŒ‡é¢œè‰² <span style="color: var(--color-accent);">*</span></label>
                <div class="color-options" id="colorOptions">
                  <!-- åŠ¨æ€æ¸²æŸ“é¢œè‰²é€‰é¡¹ -->
                </div>
              </div>

              <!-- åœˆå·é€‰æ‹© -->
              <div class="form-group" id="sizeSelectionGroup" style="display: none;">
                <label>æˆ’æŒ‡å°ºå¯¸ï¼ˆåœˆå·ï¼‰ <span style="color: var(--color-accent);">*</span></label>
                <select name="ring_size" required class="size-select" id="sizeSelect">
                  <option value="">è¯·é€‰æ‹©åœˆå·</option>
                  <!-- åŠ¨æ€æ¸²æŸ“å°ºå¯¸é€‰é¡¹ -->
                </select>
                <p class="help-text">


                </p>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>æ”¶è´§äººå§“å</label>
                <input type="text" name="user_name" required placeholder="è¯·è¾“å…¥çœŸå®å§“å">
              </div>
              <div class="form-group">
                <label>è”ç³»ç”µè¯</label>
                <input type="tel" name="user_phone" required placeholder="è¯·è¾“å…¥æ‰‹æœºå·">
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label>çœä»½</label>
                <input type="text" name="user_province" required placeholder="å¦‚: å¹¿ä¸œçœ">
              </div>
              <div class="form-group">
                <label>åŸå¸‚</label>
                <input type="text" name="user_city" required placeholder="å¦‚: æ·±åœ³å¸‚">
              </div>
            </div>
            <div class="form-group">
              <label>åŒºå¿</label>
              <input type="text" name="user_district" required placeholder="å¦‚: å—å±±åŒº">
            </div>
            <div class="form-group">
              <label>è¯¦ç»†åœ°å€</label>
              <textarea name="user_address" required placeholder="è¯·è¾“å…¥è¯¦ç»†åœ°å€ï¼ˆè¡—é“ã€é—¨ç‰Œå·ç­‰ï¼‰"></textarea>
            </div>
            <button type="submit" class="btn-primary">æäº¤å…‘æ¢</button>
          </form>
        </div>

        <!-- æ­¥éª¤3ï¼šæˆåŠŸ -->
        <div class="step" id="step3">
          <div class="success-content">
            <div class="success-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="20 6 9 17 4 12"></polyline>
              </svg>
            </div>
            <h3>å…‘æ¢æˆåŠŸ</h3>
            <p>æ„Ÿè°¢æ‚¨é€‰æ‹© AZ Rings æ™ºèƒ½æˆ’æŒ‡</p>
            <p>æˆ‘ä»¬å°†åœ¨ 1-3 ä¸ªå·¥ä½œæ—¥å†…ä¸ºæ‚¨å‘è´§</p>
            <p>æ‚¨å¯ä»¥åœ¨ä¸‹æ–¹æŸ¥è¯¢ç‰©æµä¿¡æ¯</p>
          </div>
        </div>
      </div>

      <!-- å®¢æœå¡ç‰‡ -->
      <div class="service-card">
        <div class="service-content">
          <div class="service-text">
            <h3>éœ€è¦å¸®åŠ©ï¼Ÿ</h3>
            <p>å¦‚éœ€ä¿®æ”¹åœ°å€ã€æŸ¥è¯¢è¿›åº¦æˆ–å…¶ä»–é—®é¢˜ï¼Œè¯·æ‰«ç æ·»åŠ å®¢æœå¾®ä¿¡</p>
            <div class="service-features">
              <div class="feature-item">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                  <circle cx="12" cy="10" r="3"></circle>
                </svg>
                <span>åœ°å€ä¿®æ”¹</span>
              </div>
              <div class="feature-item">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                </svg>
                <span>è®¢å•å’¨è¯¢</span>
              </div>
              <div class="feature-item">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                </svg>
                <span>å”®åæœåŠ¡</span>
              </div>
            </div>
          </div>
          <div class="service-qr">
            <div style="width: 200px; height: 200px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; border-radius: 8px; margin: 0 auto;">
              <p style="text-align: center; color: #999; margin: 0;">å®¢æœäºŒç»´ç <br>è¯·è”ç³»ç®¡ç†å‘˜<br>é…ç½®å›¾ç‰‡</p>
            </div>
            <p>æ‰«ç æ·»åŠ å®¢æœ</p>
          </div>
        </div>
      </div>

      <!-- ç‰©æµæŸ¥è¯¢åŒºï¼ˆæŠ˜å ï¼‰ -->
      <div class="tracking-section" id="trackingSection">
        <button class="tracking-toggle" onclick="toggleTracking()">
          <span>æŸ¥è¯¢ç‰©æµä¿¡æ¯</span>
          <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </button>
        <div class="tracking-content" id="trackingContent">
          <div class="form-group">
            <label>å…‘æ¢ç æˆ–è¿½æº¯ç </label>
            <input type="text" id="trackingCode" placeholder="è¾“å…¥å…‘æ¢ç æˆ–è¿½æº¯ç ">
          </div>
          <button class="btn-secondary" onclick="queryTracking()">æŸ¥è¯¢</button>
          
          <div class="tracking-result" id="trackingResult"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- äº§å“ç”»å»ŠåŒº -->
  <section class="gallery-section">
    <div class="container">
      <h2 class="section-title">ä½©æˆ´åœºæ™¯</h2>
      <div class="gallery-grid">
        <div class="gallery-item">
          <div style="width: 100%; height: 200px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 18px;">è¿åŠ¨å¥èº«</div>
          <p>è¿åŠ¨å¥èº«</p>
        </div>
        <div class="gallery-item">
          <div style="width: 100%; height: 200px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 18px;">ç¡çœ ç›‘æµ‹</div>
          <p>ç¡çœ ç›‘æµ‹</p>
        </div>
        <div class="gallery-item">
          <div style="width: 100%; height: 200px; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 18px;">æ—¥å¸¸ä½©æˆ´</div>
          <p>æ—¥å¸¸ä½©æˆ´</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <p>Â© 2024 AZ Rings. All rights reserved.</p>
  </footer>

  <!-- å°ºå¯¸æŒ‡å—å¼¹çª— -->
  <div class="size-guide-overlay" id="sizeGuideOverlay" onclick="if(event.target === this) closeSizeGuide()">
    <div class="size-guide-modal">
      <button class="size-guide-close" onclick="closeSizeGuide()">&times;</button>
      <h3>æˆ’æŒ‡å°ºå¯¸æµ‹é‡æŒ‡å—</h3>
      <div class="size-guide-content">
        <p>è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æµ‹é‡æ‚¨çš„æ‰‹æŒ‡å°ºå¯¸ï¼š</p>
        <ol>
          <li><strong>å‡†å¤‡å·¥å…·ï¼š</strong>ä¸€æ ¹ç»†ç»³æˆ–çº¸æ¡ã€ä¸€æŠŠå°ºå­</li>
          <li><strong>ç¼ ç»•æ‰‹æŒ‡ï¼š</strong>å°†ç»³å­å›´ç»•æ‚¨æƒ³ä½©æˆ´æˆ’æŒ‡çš„æ‰‹æŒ‡æ ¹éƒ¨ç¼ ç»•ä¸€åœˆ</li>
          <li><strong>æ ‡è®°ä½ç½®ï¼š</strong>ç”¨ç¬”æ ‡è®°ç»³å­é‡å çš„ä½ç½®</li>
          <li><strong>æµ‹é‡é•¿åº¦ï¼š</strong>å°†ç»³å­æ‹‰ç›´ï¼Œç”¨å°ºå­æµ‹é‡ä¸¤ä¸ªæ ‡è®°ç‚¹ä¹‹é—´çš„é•¿åº¦ï¼ˆå‘¨é•¿ï¼‰</li>
          <li><strong>å¯¹ç…§ä¸‹è¡¨ï¼š</strong>æ ¹æ®å‘¨é•¿é€‰æ‹©å¯¹åº”çš„åœˆå·</li>
        </ol>
        
        <table class="size-table">
          <thead>
            <tr>
              <th>åœˆå·</th>
              <th>å†…å¾„ (mm)</th>
              <th>å‘¨é•¿ (mm)</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>7å·</td><td>17mm</td><td>53.4mm</td></tr>
            <tr><td>8å·</td><td>18mm</td><td>56.5mm</td></tr>
            <tr><td>9å·</td><td>19mm</td><td>59.7mm</td></tr>
            <tr><td>10å·</td><td>20mm</td><td>62.8mm</td></tr>
            <tr><td>11å·</td><td>21mm</td><td>66.0mm</td></tr>
            <tr><td>12å·</td><td>22mm</td><td>69.1mm</td></tr>
            <tr><td>13å·</td><td>23mm</td><td>72.3mm</td></tr>
          </tbody>
        </table>
        
        <p style="color: var(--color-accent); font-size: 0.9rem; margin-top: 16px;">
          ğŸ’¡ æç¤ºï¼šå¦‚æœæµ‹é‡ç»“æœä»‹äºä¸¤ä¸ªå°ºå¯¸ä¹‹é—´ï¼Œå»ºè®®é€‰æ‹©è¾ƒå¤§çš„å°ºå¯¸ä»¥ç¡®ä¿èˆ’é€‚åº¦ã€‚
        </p>
      </div>
    </div>
  </div>

  <script>
    const API_BASE_URL = '/api';  // ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œè‡ªåŠ¨é€‚é…å½“å‰åŸŸå
    let currentRedeemCode = '';
    let currentCarouselSlide = 0;

    // Heroè½®æ’­
    function initCarousel() {
      const indicators = document.querySelectorAll('.indicator');
      indicators.forEach((indicator, index) => {
        indicator.addEventListener('click', () => {
          showSlide(index);
        });
      });
      
      // è‡ªåŠ¨è½®æ’­
      setInterval(() => {
        currentCarouselSlide = (currentCarouselSlide + 1) % 2;
        showSlide(currentCarouselSlide);
      }, 5000);
    }

    function showSlide(index) {
      const slides = document.querySelectorAll('.carousel-slide');
      const indicators = document.querySelectorAll('.indicator');
      
      slides.forEach((slide, i) => {
        slide.classList.toggle('active', i === index);
      });
      
      indicators.forEach((indicator, i) => {
        indicator.classList.toggle('active', i === index);
      });
      
      currentCarouselSlide = index;
    }

    // å…¨å±€å˜é‡å­˜å‚¨å½“å‰é€‰æ‹©
    let currentProductId = null;
    let currentModels = [];
    let selectedModelId = null;

    // æ¸²æŸ“å‹å·é€‰é¡¹
    function renderModels(models) {
      const modelContainer = document.getElementById('modelOptions');
      const modelGroup = document.getElementById('modelSelectionGroup');
      
      if (!modelContainer) return;

      if (!models || models.length === 0) {
        modelGroup.style.display = 'none';
        return;
      }

      // å¦‚æœåªæœ‰ä¸€ä¸ªå‹å·ï¼Œè‡ªåŠ¨é€‰æ‹©å¹¶éšè—
      if (models.length === 1) {
        selectedModelId = models[0].id;
        modelGroup.style.display = 'none';
        loadModelOptions(currentProductId, selectedModelId);
        return;
      }

      // æ˜¾ç¤ºå‹å·é€‰æ‹©åŒºåŸŸ
      modelGroup.style.display = 'block';
      currentModels = models;

      modelContainer.innerHTML = models.map((model, index) => {
        const priceAdj = parseFloat(model.price_adjustment) || 0;
        let priceText = '';
        if (priceAdj > 0) priceText = `<span style="color: #4ade80;">+Â¥${priceAdj.toFixed(2)}</span>`;
        else if (priceAdj < 0) priceText = `<span style="color: #f87171;">Â¥${priceAdj.toFixed(2)}</span>`;

        return `
          <label class="model-card">
            <input type="radio" name="product_model_id" value="${model.id}" required onchange="onModelChange(${model.id})">
            <div class="model-card-content">
              ${model.image_url ?
                `<img src="${model.image_url}" alt="${model.name}" class="model-image">` :
                `<div class="model-image" style="display: flex; align-items: center; justify-content: center; color: var(--color-text-light); font-size: 14px;">${model.name}</div>`
              }
              <span class="model-name">${model.name}</span>
              ${priceText ? `<span class="model-price-adjustment">${priceText}</span>` : ''}
            </div>
            <div class="check-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="20 6 9 17 4 12"></polyline>
              </svg>
            </div>
          </label>
        `;
      }).join('');
    }

    // å‹å·é€‰æ‹©æ”¹å˜æ—¶çš„å¤„ç†
    function onModelChange(modelId) {
      selectedModelId = modelId;
      loadModelOptions(currentProductId, modelId);
    }

    // åŠ è½½å‹å·å¯¹åº”çš„é¢œè‰²å’Œå°ºå¯¸
    function loadModelOptions(productId, modelId) {
      fetch(`${API_BASE_URL}/redeem/model-options?product_id=${productId}&model_id=${modelId}`)
        .then(response => response.json())
        .then(data => {
          if (data.code === 200) {
            renderColors(data.data.colors);
            renderSizes(data.data.sizes);
          } else {
            alert(data.message || 'è·å–å‹å·é€‰é¡¹å¤±è´¥');
          }
        })
        .catch(error => {
          console.error('åŠ è½½å‹å·é€‰é¡¹å¤±è´¥:', error);
          alert('ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•');
        });
    }

    // æ¸²æŸ“é¢œè‰²é€‰é¡¹
    function renderColors(colors) {
      const colorContainer = document.querySelector('.color-options');
      const colorGroup = document.getElementById('colorSelectionGroup');
      if (!colorContainer) return;

      if (!colors || colors.length === 0) {
        colorGroup.style.display = 'none';
        colorContainer.innerHTML = '<p style="color: var(--color-text-muted);">æš‚æ— å¯é€‰é¢œè‰²</p>';
        return;
      }

      colorGroup.style.display = 'block';
      colorContainer.innerHTML = colors.map((color, index) => `
        <label class="color-card">
          <input type="radio" name="ring_color" value="${color.code}" required>
          <div class="color-card-content">
            ${color.image_url ?
              `<img src="${color.image_url}" alt="${color.name}" style="width: 100%; height: 120px; object-fit: cover; border-radius: 8px;">` :
              `<div style="width: 100%; height: 120px; background: ${getColorGradient(color.code)}; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 14px;">${color.name}</div>`
            }
            <span class="color-name">${color.name}</span>
            ${index === 0 ? '<span class="popular-badge">çƒ­é—¨</span>' : ''}
          </div>
          <div class="check-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
          </div>
        </label>
      `).join('');
    }

    // è·å–é¢œè‰²æ¸å˜ï¼ˆç”¨äºæ²¡æœ‰å›¾ç‰‡çš„é¢œè‰²ï¼‰
    function getColorGradient(colorCode) {
      const gradients = {
        'black': 'linear-gradient(135deg, #2c2c2c 0%, #1a1a1a 100%)',
        'gold': 'linear-gradient(135deg, #d4af37 0%, #c5a028 100%)',
        'blue': 'linear-gradient(135deg, #4a90e2 0%, #357abd 100%)',
        'silver': 'linear-gradient(135deg, #c0c0c0 0%, #a8a8a8 100%)',
        'rose': 'linear-gradient(135deg, #e8a0a0 0%, #d88888 100%)'
      };
      return gradients[colorCode] || 'linear-gradient(135deg, #888 0%, #666 100%)';
    }

    // æ¸²æŸ“å°ºå¯¸é€‰é¡¹
    function renderSizes(sizes) {
      const sizeSelect = document.querySelector('select[name="ring_size"]');
      const sizeGroup = document.getElementById('sizeSelectionGroup');
      if (!sizeSelect) return;

      if (!sizes || sizes.length === 0) {
        sizeGroup.style.display = 'none';
        sizeSelect.innerHTML = '<option value="">æš‚æ— å¯é€‰å°ºå¯¸</option>';
        return;
      }

      sizeGroup.style.display = 'block';
      sizeSelect.innerHTML = '<option value="">è¯·é€‰æ‹©åœˆå·</option>' +
        sizes.map(size => `<option value="${size.code}">${size.name}</option>`).join('');
    }

    // éªŒè¯å…‘æ¢ç 
    async function validateCodeA() {
      const code = document.getElementById('redeemCode').value.trim();
      if (!code) {
        alert('è¯·è¾“å…¥å…‘æ¢ç ');
        return;
      }

      // è°ƒç”¨åç«¯APIéªŒè¯
      try {
        const response = await fetch(`${API_BASE_URL}/redeem/validate`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ redeem_code: code })
        });

        const res = await response.json();

        if (res.code === 200) {
          currentRedeemCode = code;
          currentProductId = res.data.product_id;
          document.getElementById('productName').textContent = res.data.product_name;
          document.getElementById('productValue').textContent = `Â¥${parseFloat(res.data.product_value).toFixed(2)}`;

          // åˆ¤æ–­æ˜¯å¦æœ‰å‹å·
          if (res.data.models && res.data.models.length > 0) {
            // æœ‰å‹å·ï¼šæ¸²æŸ“å‹å·åˆ—è¡¨
            renderModels(res.data.models);
          } else {
            // æ— å‹å·ï¼šç›´æ¥æ¸²æŸ“é¢œè‰²å’Œå°ºå¯¸
            renderColors(res.data.colors || []);
            renderSizes(res.data.sizes || []);
          }

          showStep(2);
        } else {
          alert(res.message || 'å…‘æ¢ç éªŒè¯å¤±è´¥');
        }
      } catch (err) {
        alert('ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•');
        console.error(err);
      }
    }

    // æäº¤å…‘æ¢
    document.addEventListener('DOMContentLoaded', function() {
      initCarousel();
      
      const form = document.getElementById('redeemForm');
      if (form) {
        form.addEventListener('submit', async function(e) {
          e.preventDefault();
          
          const formData = new FormData(e.target);
          const data = {
            redeem_code: currentRedeemCode,
            ring_color: formData.get('ring_color'),
            ring_size: formData.get('ring_size'),
            user_name: formData.get('user_name'),
            user_phone: formData.get('user_phone'),
            user_province: formData.get('user_province'),
            user_city: formData.get('user_city'),
            user_district: formData.get('user_district'),
            user_address: formData.get('user_address')
          };

          // å¦‚æœæœ‰é€‰æ‹©å‹å·ï¼Œæ·»åŠ åˆ°æ•°æ®ä¸­
          if (selectedModelId) {
            data.product_model_id = selectedModelId;
          } else if (formData.get('product_model_id')) {
            data.product_model_id = formData.get('product_model_id');
          }
          
          // éªŒè¯å‹å·ï¼ˆå¦‚æœæ˜¾ç¤ºäº†å‹å·é€‰æ‹©ï¼‰
          if (currentModels && currentModels.length > 0 && !data.product_model_id) {
            alert('è¯·é€‰æ‹©æˆ’æŒ‡å‹å·');
            return;
          }

          // éªŒè¯æˆ’æŒ‡é¢œè‰²å’Œå°ºå¯¸
          if (!data.ring_color) {
            alert('è¯·é€‰æ‹©æˆ’æŒ‡é¢œè‰²');
            return;
          }

          if (!data.ring_size) {
            alert('è¯·é€‰æ‹©æˆ’æŒ‡å°ºå¯¸ï¼ˆåœˆå·ï¼‰');
            return;
          }

          if (!/^1[3-9]\d{9}$/.test(data.user_phone)) {
            alert('è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·');
            return;
          }
          
          // æäº¤åˆ°åç«¯
          try {
            const response = await fetch(`${API_BASE_URL}/redeem/submit`, {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify(data)
            });
            
            const res = await response.json();
            
            if (res.code === 200) {
              showStep(3);
              // è‡ªåŠ¨å±•å¼€ç‰©æµæŸ¥è¯¢åŒº
              document.getElementById('trackingCode').value = currentRedeemCode;
            } else {
              alert(res.message || 'å…‘æ¢å¤±è´¥');
            }
          } catch (err) {
            alert('ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•');
            console.error(err);
          }
        });
      }
    });

    function showStep(stepNum) {
      document.querySelectorAll('.step').forEach(step => {
        step.classList.remove('active');
      });
      document.getElementById(`step${stepNum}`).classList.add('active');
    }

    function goBackToStep1() {
      showStep(1);
    }

    // ç‰©æµæŸ¥è¯¢æŠ˜å 
    function toggleTracking() {
      const section = document.getElementById('trackingSection');
      section.classList.toggle('expanded');
    }

    async function queryTracking() {
      const code = document.getElementById('trackingCode').value.trim();
      if (!code) {
        alert('è¯·è¾“å…¥å…‘æ¢ç æˆ–è¿½æº¯ç ');
        return;
      }
      
      // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
      const resultDiv = document.getElementById('trackingResult');
      resultDiv.innerHTML = '<p style="text-align:center;padding:20px;color:#999;">æ­£åœ¨æŸ¥è¯¢ç‰©æµä¿¡æ¯...</p>';
      resultDiv.classList.add('show');
      
      // æŸ¥è¯¢åç«¯ç‰©æµè¿½è¸ªAPI
      try {
        const response = await fetch(`${API_BASE_URL}/redeem/track?redeem_code=${encodeURIComponent(code)}`);
        const res = await response.json();
        
        if (res.code === 200) {
          displayLogisticsTracking(res.data);
        } else {
          resultDiv.innerHTML = `<p style="text-align:center;padding:20px;color:#EF4444;">${res.message || 'æŸ¥è¯¢å¤±è´¥'}</p>`;
        }
      } catch (err) {
        resultDiv.innerHTML = '<p style="text-align:center;padding:20px;color:#EF4444;">ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•</p>';
        console.error(err);
      }
    }

    function displayLogisticsTracking(data) {
      const resultDiv = document.getElementById('trackingResult');
      
      // åŸºç¡€è®¢å•ä¿¡æ¯
      let html = `
        <div style="margin-bottom: 24px;">
          <h4 style="margin-bottom: 16px; color: var(--color-text);">è®¢å•ä¿¡æ¯</h4>
          <div style="background: rgba(255,255,255,0.03); padding: 16px; border-radius: 8px;">
            <p style="margin-bottom: 8px;"><strong style="color: #999;">è®¢å•çŠ¶æ€ï¼š</strong>${data.orderInfo.statusText}</p>
            <p style="margin-bottom: 8px;"><strong style="color: #999;">å•†å“åç§°ï¼š</strong>${data.orderInfo.batchName || '-'}</p>
            ${data.orderInfo.shippedAt ? `<p style="margin-bottom: 0;"><strong style="color: #999;">å‘è´§æ—¶é—´ï¼š</strong>${formatDateTime(data.orderInfo.shippedAt)}</p>` : ''}
          </div>
        </div>
      `;
      
      // ç‰©æµè½¨è¿¹
      if (data.logistics && data.logistics.traces && data.logistics.traces.length > 0) {
        const statusClass = data.logistics.status === 'SIGN' ? 'status-signed' : 
                           data.logistics.status === 'DELIVERING' ? 'status-delivering' :
                           data.logistics.status === 'PROBLEM' ? 'status-problem' : 
                           'status-transporting';
        
        html += `
          <div class="logistics-timeline">
            <h4 style="margin-bottom: 16px; color: var(--color-text);">
              ç‰©æµè½¨è¿¹
              <span class="logistics-status-badge ${statusClass}">${data.logistics.statusDesc}</span>
            </h4>
            
            <div class="logistics-info-grid">
              <div class="logistics-info-item">
                <strong>å¿«é€’å…¬å¸</strong>
                <div>${data.orderInfo.logisticsCompany || '-'}</div>
              </div>
              <div class="logistics-info-item">
                <strong>å¿«é€’å•å·</strong>
                <div>${data.orderInfo.trackingNumber || '-'}</div>
              </div>
            </div>
            
            <div style="margin-top: 20px;">
        `;
        
        data.logistics.traces.forEach((trace, index) => {
          const isLatest = index === 0;
          html += `
            <div class="timeline-item ${isLatest ? 'latest' : ''}">
              <div class="timeline-dot"></div>
              <div class="timeline-time">${trace.time}</div>
              <div class="timeline-content">${trace.context}</div>
              ${trace.location ? `<div class="timeline-location">ğŸ“ ${trace.location}</div>` : ''}
            </div>
          `;
        });
        
        html += `
            </div>
          </div>
        `;
      } else if (data.orderInfo.status >= 3) {
        html += '<p style="color: #999; text-align: center; padding: 20px;">è®¢å•å·²å‘è´§ï¼Œç‰©æµä¿¡æ¯æ›´æ–°ä¸­...</p>';
      } else {
        html += '<p style="color: #999; text-align: center; padding: 20px;">è®¢å•æ­£åœ¨å‡†å¤‡ä¸­ï¼Œæˆ‘ä»¬ä¼šå°½å¿«ä¸ºæ‚¨å‘è´§</p>';
      }
      
      resultDiv.innerHTML = html;
      resultDiv.classList.add('show');
    }

    function formatDateTime(datetime) {
      if (!datetime) return '-';
      const date = new Date(datetime);
      return date.toLocaleString('zh-CN', {
        year: 'numeric',
        month: '2-digit',
        day: '2-digit',
        hour: '2-digit',
        minute: '2-digit'
      });
    }

    // æ˜¾ç¤ºå°ºå¯¸æŒ‡å—
    function showSizeGuide() {
      document.getElementById('sizeGuideOverlay').classList.add('show');
      document.body.style.overflow = 'hidden'; // ç¦æ­¢èƒŒæ™¯æ»šåŠ¨
    }

    // å…³é—­å°ºå¯¸æŒ‡å—
    function closeSizeGuide() {
      document.getElementById('sizeGuideOverlay').classList.remove('show');
      document.body.style.overflow = ''; // æ¢å¤æ»šåŠ¨
    }

    // é”®ç›˜ESCå…³é—­
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeSizeGuide();
      }
    });
  </script>
</body>
</html>

