<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¥åº·è‡ªæµ‹ä¸­å¿ƒ - ä¸“ä¸šå¥åº·è¯„ä¼°å·¥å…· | AZ Ringæ™ºèƒ½å¥åº·æˆ’æŒ‡</title>
    <meta name="description" content="ä¸“ä¸šçš„å¥åº·è‡ªæµ‹ä¸­å¿ƒï¼Œæä¾›å¤šç§ç§‘å­¦çš„å¥åº·è¯„ä¼°å·¥å…·ã€‚åŒ…å«ä¸­åŒ»ä¹ç§ä½“è´¨æµ‹è¯•ç­‰ä¸“ä¸šè¯„ä¼°ï¼Œå¸®åŠ©æ‚¨äº†è§£èº«ä½“çŠ¶å†µã€‚">
    
    <!-- DNSé¢„è§£æå’Œpreconnectä¼˜åŒ– -->
    <link rel="dns-prefetch" href="//cdn.staticfile.org">
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    <link rel="preconnect" href="https://cdn.staticfile.org">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    
    <!-- æ ·å¼æ–‡ä»¶ -->
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.0.0/css/all.min.css">
    
    <!-- å¥åº·æ•°æ®ç®¡ç†ç³»ç»Ÿ -->
    <script src="js/health-data-manager.js"></script>
    
    <!-- æœ¬åœ°Interå­—ä½“ -->
    <style>
        @font-face {
            font-family: 'Inter';
            font-style: normal;
            font-weight: 300 700;
            font-display: swap;
            src: url('../fonts/inter-variable.woff2') format('woff2');
        }
        
        :root {
            --oura-black: #0a0a0a;
            --oura-dark: #1a1a1a;
            --oura-gray: #2a2a2a;
            --oura-light-gray: #666666;
            --oura-white: #ffffff;
            --oura-accent: #ff6b35;
            --oura-accent-light: #ff8a65;
            --oura-blue: #4a90e2;
            --oura-green: #7ed321;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, var(--oura-black) 0%, var(--oura-dark) 100%);
            color: var(--oura-white);
            line-height: 1.6;
            min-height: 100vh;
        }
        
        /* å¯¼èˆªæ æ ·å¼ */
        .oura-nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 1000;
            padding: 0;
        }
        
        .oura-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
        }
        
        .oura-nav-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 80px;
        }
        
        .oura-logo img {
            height: 40px;
            width: auto;
        }
        
        .oura-nav-links {
            display: flex;
            list-style: none;
            gap: 32px;
        }
        
        .oura-nav-link {
            color: var(--oura-light-gray);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
            position: relative;
        }
        
        .oura-nav-link:hover,
        .oura-nav-link.active {
            color: var(--oura-white);
        }
        
        .oura-nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--oura-accent);
        }
        
        .language-switcher {
            display: flex;
            gap: 8px;
        }
        
        .lang-btn {
            background: none;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--oura-light-gray);
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .lang-btn.active,
        .lang-btn:hover {
            border-color: var(--oura-accent);
            color: var(--oura-accent);
        }
        
        .oura-mobile-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--oura-white);
            font-size: 20px;
            cursor: pointer;
        }
        
        .oura-mobile-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--oura-dark);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding: 20px 24px;
            flex-direction: column;
            gap: 16px;
        }
        
        .oura-mobile-menu.active {
            display: flex;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 120px 24px 60px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 80px;
        }
        
        .title {
            font-size: 48px;
            font-weight: 300;
            margin-bottom: 24px;
            background: linear-gradient(135deg, var(--oura-accent) 0%, var(--oura-accent-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            color: var(--oura-light-gray);
            font-size: 20px;
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto 40px;
        }
        
        .highlight-text {
            color: var(--oura-accent);
            font-weight: 600;
        }
        
        /* æµ‹è¯•ç±»å‹é€‰æ‹©æ ·å¼ */
        .test-types-section {
            margin: 60px 0;
        }
        
        .section-title {
            font-size: 32px;
            font-weight: 600;
            text-align: center;
            margin-bottom: 16px;
            color: var(--oura-white);
        }
        
        .section-subtitle {
            font-size: 18px;
            color: var(--oura-light-gray);
            text-align: center;
            margin-bottom: 60px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .test-types-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 40px;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .test-type-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 24px;
            padding: 32px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            text-decoration: none;
            color: inherit;
            display: block;
        }
        
        .test-type-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border-color: var(--oura-accent);
        }
        
        .test-type-card.coming-soon {
            opacity: 0.7;
            cursor: not-allowed;
        }
        
        .test-type-card.coming-soon:hover {
            transform: none;
            box-shadow: none;
            border-color: rgba(255, 255, 255, 0.1);
        }
        
        .test-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }
        
        .test-card-icon {
            width: 60px;
            height: 60px;
            background: rgba(255, 107, 53, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .test-card-icon i {
            font-size: 24px;
            color: var(--oura-accent);
        }
        
        .test-card-badge {
            background: var(--oura-accent);
            color: var(--oura-white);
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .coming-soon-badge {
            background: var(--oura-light-gray);
            color: var(--oura-dark);
        }
        
        .test-card-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--oura-white);
            margin-bottom: 16px;
        }
        
        .test-card-description {
            color: var(--oura-light-gray);
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 24px;
        }
        
        .test-card-features {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 24px;
        }
        
        .feature-tag {
            background: rgba(255, 107, 53, 0.2);
            color: var(--oura-accent);
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .feature-tag.disabled {
            background: rgba(255, 255, 255, 0.1);
            color: var(--oura-light-gray);
        }
        
        .test-card-stats {
            display: flex;
            gap: 24px;
            margin-bottom: 24px;
        }
        
        .stat-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--oura-light-gray);
            font-size: 14px;
        }
        
        .stat-item i {
            color: var(--oura-accent);
        }
        
        .test-card-cta {
            color: var(--oura-accent);
            font-weight: 600;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 12px 24px;
            background: rgba(255, 107, 53, 0.1);
            border-radius: 12px;
            transition: all 0.3s ease;
        }
        
        .test-card-cta i {
            margin-left: 8px;
            transition: transform 0.3s ease;
        }
        
        .test-type-card:hover .test-card-cta i {
            transform: translateX(4px);
        }
        
        .test-card-cta.disabled {
            background: rgba(255, 255, 255, 0.05);
            color: var(--oura-light-gray);
        }
        
        .assessment-card {
            border-radius: 24px;
            padding: 48px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            text-decoration: none;
            color: inherit;
        }
        
        .assessment-card:hover {
            transform: translateY(-12px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4);
        }
        
        .assessment-card:hover .card-decoration {
            transform: scale(1.3);
            opacity: 0.9;
        }
        
        .quick-assessment {
            background: linear-gradient(135deg, #7ed321 0%, #a4de6c 100%);
        }
        
        .standard-assessment {
            background: linear-gradient(135deg, var(--oura-accent) 0%, var(--oura-accent-light) 100%);
        }
        
        .deep-assessment {
            background: linear-gradient(135deg, var(--oura-blue) 0%, #6ba3f5 100%);
        }
        
        .card-icon {
            width: 80px;
            height: 80px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 32px;
        }
        
        .card-icon i {
            font-size: 32px;
            color: var(--oura-white);
        }
        
        .card-title {
            font-size: 28px;
            font-weight: 600;
            color: var(--oura-white);
            margin-bottom: 16px;
        }
        
        .card-description {
            color: rgba(255, 255, 255, 0.9);
            font-size: 18px;
            line-height: 1.6;
            margin-bottom: 32px;
        }
        
        .card-meta {
            display: flex;
            gap: 24px;
            font-size: 16px;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 32px;
        }
        
        .card-meta span {
            display: flex;
            align-items: center;
        }
        
        .card-meta i {
            margin-right: 8px;
        }
        
        .card-cta {
            color: var(--oura-white);
            font-weight: 600;
            font-size: 18px;
            display: flex;
            align-items: center;
        }
        
        .card-cta i {
            margin-left: 12px;
            transition: transform 0.3s ease;
        }
        
        .assessment-card:hover .card-cta i {
            transform: translateX(4px);
        }
        
        .card-decoration {
            position: absolute;
            top: -30px;
            right: -30px;
            width: 120px;
            height: 120px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            opacity: 0.6;
            transition: all 0.3s ease;
        }
        
        .features-section {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 24px;
            padding: 60px 48px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .features-title {
            text-align: center;
            font-size: 32px;
            font-weight: 600;
            margin-bottom: 48px;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 48px;
        }
        
        .feature-item {
            text-align: center;
        }
        
        .feature-icon {
            font-size: 48px;
            color: var(--oura-accent);
            margin-bottom: 24px;
        }
        
        .feature-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--oura-white);
            margin-bottom: 16px;
        }
        
        .feature-description {
            color: var(--oura-light-gray);
            line-height: 1.6;
        }
        
        .tcm-intro {
            background: rgba(255, 107, 53, 0.05);
            border-radius: 20px;
            padding: 40px;
            border: 1px solid rgba(255, 107, 53, 0.2);
            margin: 60px 0;
        }
        
        .tcm-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--oura-accent);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }
        
        .tcm-title i {
            margin-right: 12px;
        }
        
        .tcm-content {
            color: var(--oura-light-gray);
            line-height: 1.7;
            font-size: 16px;
        }
        
        @media (max-width: 768px) {
            .oura-nav-links,
            .language-switcher {
                display: none;
            }
            
            .oura-mobile-toggle {
                display: block;
            }
            
            .container {
                padding: 100px 16px 40px;
            }
            
            .title {
                font-size: 36px;
            }
            
            .subtitle {
                font-size: 18px;
            }
            
            .section-title {
                font-size: 28px;
            }
            
            .section-subtitle {
                font-size: 16px;
                margin-bottom: 40px;
            }
            
            .test-types-grid {
                grid-template-columns: 1fr;
                gap: 24px;
            }
            
            .test-type-card {
                padding: 24px;
            }
            
            .test-card-title {
                font-size: 20px;
            }
            
            .test-card-description {
                font-size: 14px;
            }
            
            .test-card-stats {
                flex-direction: column;
                gap: 12px;
            }
        }

        /* ========== å¥åº·ä»ªè¡¨æ¿æ ·å¼ ========== */
        .health-dashboard {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 24px;
            padding: 40px;
            margin-bottom: 60px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .dashboard-title {
            font-size: 28px;
            font-weight: 600;
            color: var(--oura-white);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .dashboard-close {
            background: none;
            border: none;
            color: var(--oura-light-gray);
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s;
            padding: 8px;
        }

        .dashboard-close:hover {
            color: var(--oura-accent);
            transform: rotate(90deg);
        }

        .dashboard-content {
            display: grid;
            gap: 32px;
        }

        /* ç»¼åˆå¥åº·è¯„åˆ†å¡ç‰‡ */
        .health-score-card {
            background: linear-gradient(135deg, var(--oura-accent) 0%, var(--oura-accent-light) 100%);
            border-radius: 20px;
            padding: 32px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .health-score-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: pulse 3s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .score-label {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 12px;
        }

        .score-value {
            font-size: 72px;
            font-weight: 700;
            color: var(--oura-white);
            line-height: 1;
            margin-bottom: 12px;
            position: relative;
            z-index: 1;
        }

        .score-trend {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        /* å„é¡¹æŒ‡æ ‡ */
        .health-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .metric-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s;
            cursor: pointer;
        }

        .metric-item:hover {
            transform: translateY(-4px);
            border-color: var(--oura-accent);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .metric-icon {
            font-size: 32px;
            margin-bottom: 12px;
        }

        .metric-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .metric-name {
            font-size: 14px;
            color: var(--oura-light-gray);
        }

        .metric-score {
            font-size: 24px;
            font-weight: 600;
            color: var(--oura-white);
        }

        .metric-bar {
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
        }

        .metric-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--oura-accent), var(--oura-accent-light));
            border-radius: 3px;
            transition: width 0.5s ease;
        }

        /* æµ‹è¯•ç»Ÿè®¡ */
        .test-statistics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
        }

        .stat-box {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 24px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-icon {
            font-size: 32px;
            margin-bottom: 12px;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 600;
            color: var(--oura-white);
            margin-bottom: 8px;
        }

        .stat-label {
            font-size: 14px;
            color: var(--oura-light-gray);
        }

        /* å¥åº·å»ºè®® */
        .health-recommendations {
            background: rgba(255, 107, 53, 0.1);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(255, 107, 53, 0.3);
        }

        .health-recommendations h3 {
            font-size: 18px;
            color: var(--oura-accent);
            margin-bottom: 16px;
        }

        .recommendation-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .recommendation-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 16px;
            border-radius: 12px;
            border-left: 4px solid var(--oura-accent);
        }

        .recommendation-text {
            color: var(--oura-light-gray);
            line-height: 1.6;
        }

        /* ========== æµ®åŠ¨æŒ‰é’®ä¼˜åŒ–æ ·å¼ ========== */
        .floating-actions {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 999;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        /* æ°¸ä¹…æ–‡å­—æ ‡ç­¾ */
        .fab-label-permanent {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            color: var(--oura-dark);
            padding: 10px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
            white-space: nowrap;
            opacity: 0;
            animation: fadeInLabel 0.5s ease 0.5s forwards;
            pointer-events: none;
        }

        @keyframes fadeInLabel {
            from { opacity: 0; transform: translateX(10px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .fab-main {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--oura-accent), var(--oura-accent-light));
            border: none;
            color: var(--oura-white);
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(255, 107, 53, 0.4);
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        /* è„‰å†²åŠ¨ç”»ï¼ˆæœ‰æ•°æ®æ—¶ï¼‰ */
        .fab-main.has-data {
            animation: pulse-fab 2s ease-in-out infinite;
        }

        @keyframes pulse-fab {
            0%, 100% {
                box-shadow: 0 4px 20px rgba(255, 107, 53, 0.4);
                transform: scale(1);
            }
            50% {
                box-shadow: 0 6px 30px rgba(255, 107, 53, 0.8);
                transform: scale(1.05);
            }
        }

        .fab-main:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(255, 107, 53, 0.6);
            animation: none;
        }

        /* Tooltipæç¤º */
        .fab-tooltip {
            position: absolute;
            bottom: 70px;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
            pointer-events: none;
        }

        .fab-tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            right: 20px;
            border: 6px solid transparent;
            border-top-color: rgba(0, 0, 0, 0.9);
        }

        .fab-main:hover .fab-tooltip {
            opacity: 1;
            visibility: visible;
            transform: translateY(-5px);
        }

        .fab-menu {
            position: absolute;
            bottom: 80px;
            right: 0;
            display: flex;
            flex-direction: column;
            gap: 12px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            transition: all 0.3s;
        }

        .fab-menu.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .fab-item {
            display: flex;
            align-items: center;
            gap: 12px;
            background: var(--oura-dark);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--oura-white);
            padding: 12px 20px;
            border-radius: 24px;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
            font-size: 14px;
        }

        .fab-item:hover {
            background: var(--oura-accent);
            border-color: var(--oura-accent);
            transform: translateX(-4px);
        }

        .fab-item i {
            font-size: 16px;
        }

        /* ========== å¼¹çª—æ ·å¼ ========== */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        .modal-overlay.active {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: var(--oura-dark);
            border-radius: 24px;
            max-width: 900px;
            max-height: 90vh;
            width: 90%;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px 32px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-header h2 {
            font-size: 24px;
            color: var(--oura-white);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--oura-light-gray);
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s;
            padding: 8px;
        }

        .modal-close:hover {
            color: var(--oura-accent);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 32px;
            overflow-y: auto;
            max-height: calc(90vh - 100px);
        }

        /* å†å²è®°å½•ç­›é€‰å™¨ */
        .history-filters {
            display: flex;
            gap: 12px;
            margin-bottom: 32px;
            flex-wrap: wrap;
        }

        .filter-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--oura-light-gray);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .filter-btn:hover {
            border-color: var(--oura-accent);
            color: var(--oura-white);
        }

        .filter-btn.active {
            background: var(--oura-accent);
            border-color: var(--oura-accent);
            color: var(--oura-white);
        }

        /* å†å²æ—¶é—´è½´ */
        .history-timeline {
            position: relative;
            padding-left: 40px;
        }

        .history-timeline::before {
            content: '';
            position: absolute;
            left: 12px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(180deg, var(--oura-accent), transparent);
        }

        .history-item {
            position: relative;
            margin-bottom: 32px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s;
        }

        .history-item:hover {
            border-color: var(--oura-accent);
            transform: translateX(4px);
        }

        .history-item::before {
            content: '';
            position: absolute;
            left: -28px;
            top: 28px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--oura-accent);
            border: 3px solid var(--oura-dark);
        }

        .history-date {
            font-size: 12px;
            color: var(--oura-light-gray);
            margin-bottom: 8px;
        }

        .history-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--oura-white);
            margin-bottom: 8px;
        }

        .history-score {
            font-size: 32px;
            font-weight: 700;
            color: var(--oura-accent);
            margin-bottom: 8px;
        }

        .history-level {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            background: rgba(255, 107, 53, 0.2);
            color: var(--oura-accent);
        }

        /* ç©ºçŠ¶æ€ */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--oura-light-gray);
        }

        .empty-state i {
            font-size: 64px;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .empty-state p {
            font-size: 18px;
            margin-bottom: 8px;
        }

        .empty-hint {
            font-size: 14px;
            opacity: 0.7;
        }

        /* æ•°æ®è¯´æ˜å¼¹çª— */
        .info-section {
            margin-bottom: 32px;
        }

        .info-section h3 {
            font-size: 18px;
            color: var(--oura-white);
            margin-bottom: 12px;
        }

        .info-section p {
            color: var(--oura-light-gray);
            line-height: 1.6;
        }

        .info-section ul {
            color: var(--oura-light-gray);
            line-height: 1.8;
            padding-left: 20px;
        }

        .user-id-display {
            display: flex;
            align-items: center;
            gap: 12px;
            background: rgba(255, 255, 255, 0.05);
            padding: 12px 16px;
            border-radius: 8px;
            margin-top: 12px;
        }

        .user-id-display code {
            flex: 1;
            color: var(--oura-accent);
            font-family: monospace;
            font-size: 14px;
        }

        .copy-btn {
            background: var(--oura-accent);
            border: none;
            color: var(--oura-white);
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 12px;
        }

        .copy-btn:hover {
            background: var(--oura-accent-light);
        }

        .user-id-hint {
            font-size: 12px;
            opacity: 0.7;
            margin-top: 8px;
        }

        .danger-zone {
            border-top: 1px solid rgba(255, 0, 0, 0.3);
            padding-top: 24px;
            margin-top: 32px;
        }

        .danger-zone h3 {
            color: #ff4444;
            font-size: 16px;
            margin-bottom: 16px;
        }

        .btn-danger {
            background: rgba(255, 0, 0, 0.1);
            border: 1px solid rgba(255, 0, 0, 0.3);
            color: #ff4444;
            padding: 12px 24px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-danger:hover {
            background: rgba(255, 0, 0, 0.2);
            border-color: #ff4444;
        }

        /* é¦–æ¬¡å¼•å¯¼è’™å±‚ */
        .fab-guide-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(8px);
            z-index: 10000;
            display: none;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.4s ease;
        }

        .fab-guide-overlay.active {
            display: flex;
        }

        /* å¼•å¯¼å†…å®¹ */
        .fab-guide-content {
            position: relative;
            text-align: center;
            max-width: 400px;
            padding: 40px;
            animation: slideUpGuide 0.5s ease;
        }

        @keyframes slideUpGuide {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fab-guide-icon {
            font-size: 64px;
            margin-bottom: 24px;
            animation: bounceGuide 1s ease infinite;
        }

        @keyframes bounceGuide {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .fab-guide-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--oura-white);
            margin-bottom: 16px;
        }

        .fab-guide-desc {
            font-size: 16px;
            color: var(--oura-light-gray);
            line-height: 1.6;
            margin-bottom: 32px;
        }

        /* å¼•å¯¼ç®­å¤´æŒ‡å‘æµ®åŠ¨æŒ‰é’® */
        .fab-guide-arrow {
            position: fixed;
            bottom: 120px;
            right: 60px;
            font-size: 48px;
            color: var(--oura-accent);
            animation: pointDown 1s ease infinite;
            z-index: 10001;
        }

        @keyframes pointDown {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(10px); }
        }

        /* å¼•å¯¼æŒ‰é’® */
        .fab-guide-btn {
            background: linear-gradient(135deg, var(--oura-accent), var(--oura-accent-light));
            border: none;
            color: var(--oura-white);
            padding: 14px 32px;
            border-radius: 24px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 8px 20px rgba(255, 107, 53, 0.3);
        }

        .fab-guide-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 30px rgba(255, 107, 53, 0.4);
        }

        /* é«˜äº®æµ®åŠ¨æŒ‰é’®åŒºåŸŸ */
        .fab-highlight-zone {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 180px;
            height: 80px;
            border-radius: 40px;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            z-index: 9999;
            pointer-events: none;
            animation: pulse-highlight 2s ease-in-out infinite;
        }

        @keyframes pulse-highlight {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }

        /* å“åº”å¼é€‚é… */
        @media (max-width: 768px) {
            .health-dashboard {
                padding: 24px 16px;
            }
            
            .health-metrics {
                grid-template-columns: 1fr;
            }
            
            .test-statistics {
                grid-template-columns: 1fr;
            }
            
            .floating-actions {
                bottom: 20px;
                right: 20px;
            }
            
            .fab-main {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            
            .fab-label-permanent {
                display: none;
            }
            
            .fab-guide-arrow {
                bottom: 100px;
                right: 25px;
            }
            
            .fab-guide-content {
                padding: 24px;
                max-width: 90%;
            }
            
            .fab-guide-title {
                font-size: 20px;
            }
            
            .fab-guide-desc {
                font-size: 14px;
            }
            
            .modal-content {
                width: 95%;
                max-height: 95vh;
            }
            
            .modal-body {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="oura-nav">
        <div class="oura-container">
            <div class="oura-nav-content">
                <a href="../index.html" class="oura-logo">
                    <img src="../äº§å“èµ„æ–™ä¸å›¾ç‰‡/logo.png" alt="æ·±åœ³ä½°å±¹åˆ›æ–°">
                </a>
                
                <ul class="oura-nav-links">
                    <li><a href="../index.html" class="oura-nav-link" data-zh="é¦–é¡µ" data-en="Home">é¦–é¡µ</a></li>
                    <li><a href="../index.html#products" class="oura-nav-link" data-zh="äº§å“" data-en="Products">äº§å“</a></li>
                    <li><a href="index.html" class="oura-nav-link" data-zh="æŠ€æœ¯åšå®¢" data-en="Tech Blog">æŠ€æœ¯åšå®¢</a></li>
                    <li><a href="health-assessment.html" class="oura-nav-link active" data-zh="å¥åº·è‡ªæµ‹" data-en="Health Assessment">å¥åº·è‡ªæµ‹</a></li>
                    <li><a href="../index.html#about" class="oura-nav-link" data-zh="å…³äº" data-en="About">å…³äº</a></li>
                    <li><a href="../index.html#contact" class="oura-nav-link" data-zh="è”ç³»" data-en="Contact">è”ç³»</a></li>
                </ul>
                
                <div class="language-switcher">
                    <button class="lang-btn active" onclick="switchLanguage('zh')">ä¸­æ–‡</button>
                    <button class="lang-btn" onclick="switchLanguage('en')">English</button>
                </div>
                
                <button class="oura-mobile-toggle" onclick="toggleMobileMenu()">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            
            <div class="oura-mobile-menu" id="mobile-menu">
                <a href="../index.html" class="oura-nav-link" data-zh="é¦–é¡µ" data-en="Home">é¦–é¡µ</a>
                <a href="../index.html#products" class="oura-nav-link" data-zh="äº§å“" data-en="Products">äº§å“</a>
                <a href="index.html" class="oura-nav-link" data-zh="æŠ€æœ¯åšå®¢" data-en="Tech Blog">æŠ€æœ¯åšå®¢</a>
                <a href="health-assessment.html" class="oura-nav-link active" data-zh="å¥åº·è‡ªæµ‹" data-en="Health Assessment">å¥åº·è‡ªæµ‹</a>
                <a href="../index.html#about" class="oura-nav-link" data-zh="å…³äº" data-en="About">å…³äº</a>
                <a href="../index.html#contact" class="oura-nav-link" data-zh="è”ç³»" data-en="Contact">è”ç³»</a>
                <div class="mobile-lang-switcher" style="padding: 12px 0; border-top: 1px solid rgba(255,255,255,0.1); margin-top: 12px;">
                    <button class="lang-btn active" onclick="switchLanguage('zh')">ä¸­æ–‡</button>
                    <button class="lang-btn" onclick="switchLanguage('en')">English</button>
                </div>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="header">
            <h1 class="title">å¥åº·è‡ªæµ‹ä¸­å¿ƒ</h1>
            <p class="subtitle">
                ä¸“ä¸šçš„å¥åº·è¯„ä¼°å·¥å…·é›†åˆï¼Œæä¾›å¤šç§ç§‘å­¦çš„å¥åº·è‡ªæµ‹æ–¹å¼ã€‚
                é€šè¿‡ä¸“ä¸šçš„<span class="highlight-text">å¥åº·åˆ†æ</span>ï¼Œå¸®åŠ©æ‚¨æ›´å¥½åœ°äº†è§£å’Œç®¡ç†è‡ªå·±çš„èº«ä½“çŠ¶å†µã€‚
            </p>
        </div>

        <!-- ä¸ªäººå¥åº·ä»ªè¡¨æ¿ -->
        <div class="health-dashboard" id="healthDashboard" style="display: none;">
            <div class="dashboard-header">
                <h2 class="dashboard-title">
                    <i class="fas fa-chart-line"></i>
                    æˆ‘çš„å¥åº·æ€»è§ˆ
                </h2>
                <button class="dashboard-close" onclick="toggleDashboard()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="dashboard-content">
                <!-- ç»¼åˆå¥åº·è¯„åˆ† -->
                <div class="health-score-card">
                    <div class="score-label">ç»¼åˆå¥åº·è¯„åˆ†</div>
                    <div class="score-value" id="overallScore">--</div>
                    <div class="score-trend" id="scoreTrend">
                        <i class="fas fa-arrow-up"></i>
                        <span>è¾ƒä¸Šæ¬¡ +0</span>
                    </div>
                </div>
                
                <!-- å„é¡¹æŒ‡æ ‡ -->
                <div class="health-metrics">
                    <div class="metric-item" data-type="sleep">
                        <div class="metric-icon">ğŸ˜´</div>
                        <div class="metric-info">
                            <div class="metric-name">ç¡çœ è´¨é‡</div>
                            <div class="metric-score" id="sleepScore">--</div>
                        </div>
                        <div class="metric-bar">
                            <div class="metric-bar-fill" id="sleepBar" style="width: 0%"></div>
                        </div>
                    </div>
                    
                    <div class="metric-item" data-type="cardiovascular">
                        <div class="metric-icon">â¤ï¸</div>
                        <div class="metric-info">
                            <div class="metric-name">å¿ƒè¡€ç®¡å¥åº·</div>
                            <div class="metric-score" id="cardiovascularScore">--</div>
                        </div>
                        <div class="metric-bar">
                            <div class="metric-bar-fill" id="cardiovascularBar" style="width: 0%"></div>
                        </div>
                    </div>
                    
                    <div class="metric-item" data-type="stress">
                        <div class="metric-icon">ğŸ§ </div>
                        <div class="metric-info">
                            <div class="metric-name">å‹åŠ›æ°´å¹³</div>
                            <div class="metric-score" id="stressScore">--</div>
                        </div>
                        <div class="metric-bar">
                            <div class="metric-bar-fill" id="stressBar" style="width: 0%"></div>
                        </div>
                    </div>
                    
                    <div class="metric-item" data-type="tcm">
                        <div class="metric-icon">â˜¯ï¸</div>
                        <div class="metric-info">
                            <div class="metric-name">ä¸­åŒ»ä½“è´¨</div>
                            <div class="metric-score" id="tcmScore">--</div>
                        </div>
                        <div class="metric-bar">
                            <div class="metric-bar-fill" id="tcmBar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
                
                <!-- æµ‹è¯•ç»Ÿè®¡ -->
                <div class="test-statistics">
                    <div class="stat-box">
                        <div class="stat-icon">ğŸ“</div>
                        <div class="stat-value" id="totalTests">0</div>
                        <div class="stat-label">æ€»æµ‹è¯•æ¬¡æ•°</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-icon">ğŸ“…</div>
                        <div class="stat-value" id="lastTestDate">--</div>
                        <div class="stat-label">æœ€è¿‘æµ‹è¯•</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-icon">ğŸ¯</div>
                        <div class="stat-value" id="completionRate">0%</div>
                        <div class="stat-label">å®Œæˆåº¦</div>
                    </div>
                </div>
                
                <!-- å¥åº·å»ºè®® -->
                <div class="health-recommendations" id="healthRecommendations">
                    <h3>ğŸ’¡ æ™ºèƒ½å»ºè®®</h3>
                    <div class="recommendation-list" id="recommendationList">
                        <!-- åŠ¨æ€ç”Ÿæˆå»ºè®® -->
                    </div>
                </div>
            </div>
        </div>

        <div class="test-types-section">
            <h2 class="section-title">é€‰æ‹©é€‚åˆæ‚¨çš„å¥åº·è¯„ä¼°</h2>
            <p class="section-subtitle">æˆ‘ä»¬æä¾›å¤šç§ä¸“ä¸šçš„å¥åº·è¯„ä¼°å·¥å…·ï¼Œè¯·é€‰æ‹©æ‚¨æ„Ÿå…´è¶£çš„æµ‹è¯•ç±»å‹</p>
            
            <div class="test-types-grid">
                <!-- ä¸­åŒ»ä¹ç§ä½“è´¨æµ‹è¯• -->
                <a href="health-tcm-constitution.html" class="test-type-card tcm-constitution">
                    <div class="test-card-header">
                        <div class="test-card-icon">
                            <i class="fas fa-yin-yang"></i>
                        </div>
                        <div class="test-card-badge">æ¨è</div>
                    </div>
                    <h3 class="test-card-title">ä¸­åŒ»ä¹ç§ä½“è´¨æµ‹è¯•</h3>
                    <p class="test-card-description">
                        åŸºäºä¼ ç»Ÿä¸­åŒ»ä½“è´¨å­¦ç†è®ºï¼Œé€šè¿‡ä¸“ä¸šé—®å·åˆ†ææ‚¨çš„ä½“è´¨ç±»å‹ã€‚
                        åŒ…å«å¹³å’Œè´¨ã€æ°”è™šè´¨ã€é˜³è™šè´¨ç­‰ä¹ç§ä½“è´¨åˆ†ç±»ï¼Œæä¾›ä¸ªæ€§åŒ–è°ƒç†å»ºè®®ã€‚
                    </p>
                    <div class="test-card-features">
                        <span class="feature-tag">ç§‘å­¦ä¸“ä¸š</span>
                        <span class="feature-tag">ä¸ªæ€§åŒ–</span>
                        <span class="feature-tag">è°ƒç†å»ºè®®</span>
                    </div>
                    <div class="test-card-stats">
                        <div class="stat-item">
                            <i class="fas fa-users"></i>
                            <span>10ä¸‡+ ç”¨æˆ·</span>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-star"></i>
                            <span>4.8åˆ† è¯„ä»·</span>
                        </div>
                    </div>
                    <div class="test-card-cta">
                        å¼€å§‹æµ‹è¯• <i class="fas fa-arrow-right"></i>
                    </div>
                </a>

                <!-- ç¡çœ è´¨é‡è¯„ä¼° -->
                <a href="health-sleep-center.html" class="test-type-card sleep-assessment">
                    <div class="test-card-header">
                        <div class="test-card-icon">
                            <i class="fas fa-moon"></i>
                        </div>
                        <div class="test-card-badge">ç§‘å­¦</div>
                    </div>
                    <h3 class="test-card-title">ç¡çœ è´¨é‡è¯„ä¼°</h3>
                    <p class="test-card-description">
                        åŸºäºåŒ¹å…¹å ¡ç¡çœ è´¨é‡æŒ‡æ•°ï¼ˆPSQIï¼‰å›½é™…æƒå¨æ ‡å‡†ï¼Œç§‘å­¦è¯„ä¼°æ‚¨çš„ç¡çœ è´¨é‡ã€‚
                        PSQIæ˜¯å…¨çƒä¸´åºŠå¹¿æ³›åº”ç”¨çš„ç¡çœ è¯„ä¼°å·¥å…·ï¼Œä»ä¸»è§‚ç¡çœ è´¨é‡ã€å…¥ç¡æ—¶é—´ã€ç¡çœ æ—¶é•¿ã€æ—¥é—´åŠŸèƒ½ç­‰å¤šç»´åº¦è¿›è¡Œä¸“ä¸šåˆ†æã€‚
                    </p>
                    <div class="test-card-features">
                        <span class="feature-tag">PSQIæ ‡å‡†</span>
                        <span class="feature-tag">å›½é™…æƒå¨</span>
                        <span class="feature-tag">ä¸´åºŠåº”ç”¨</span>
                    </div>
                    <div class="test-card-stats">
                        <div class="stat-item">
                            <i class="fas fa-certificate"></i>
                            <span>PSQIæƒå¨</span>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-hospital"></i>
                            <span>ä¸´åºŠæ ‡å‡†</span>
                        </div>
                    </div>
                    <div class="test-card-cta">
                        å¼€å§‹æµ‹è¯• <i class="fas fa-arrow-right"></i>
                    </div>
                </a>

                <!-- å‹åŠ›ä¸æƒ…ç»ªå¥åº·æµ‹è¯• -->
                <a href="health-stress-emotion.html" class="test-type-card stress-emotion">
                    <div class="test-card-header">
                        <div class="test-card-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <div class="test-card-badge">æ–°ä¸Šçº¿</div>
                    </div>
                    <h3 class="test-card-title">å‹åŠ›ä¸æƒ…ç»ªå¥åº·æµ‹è¯•</h3>
                    <p class="test-card-description">
                        åŸºäºå›½é™…æƒå¨å‹åŠ›æ„ŸçŸ¥é‡è¡¨ï¼ˆPSSï¼‰ï¼Œç§‘å­¦è¯„ä¼°æ‚¨çš„å‹åŠ›æ°´å¹³å’Œæƒ…ç»ªçŠ¶æ€ã€‚
                        æä¾›å¿«é€Ÿç­›æŸ¥ã€æ ‡å‡†è¯„ä¼°ã€æ·±åº¦å‰–æä¸‰ç§æ–¹å¼ï¼ŒAIæ™ºèƒ½åˆ†æï¼Œç”Ÿæˆä¸ªæ€§åŒ–æ”¹å–„æ–¹æ¡ˆã€‚
                    </p>
                    <div class="test-card-features">
                        <span class="feature-tag">ç§‘å­¦æƒå¨</span>
                        <span class="feature-tag">AIåˆ†æ</span>
                        <span class="feature-tag">ä¸ªæ€§åŒ–</span>
                    </div>
                    <div class="test-card-stats">
                        <div class="stat-item">
                            <i class="fas fa-robot"></i>
                            <span>AIæ™ºèƒ½</span>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-certificate"></i>
                            <span>PSSæ ‡å‡†</span>
                        </div>
                    </div>
                    <div class="test-card-cta">
                        å¼€å§‹æµ‹è¯• <i class="fas fa-arrow-right"></i>
                    </div>
                </a>

                <!-- å¿ƒè¡€ç®¡å¥åº·é£é™©è¯„ä¼° -->
                <a href="health-cardiovascular-center.html" class="test-type-card cardiovascular-assessment">
                    <div class="test-card-header">
                        <div class="test-card-icon">
                            <i class="fas fa-heartbeat"></i>
                        </div>
                        <div class="test-card-badge">æ–°ä¸Šçº¿</div>
                    </div>
                    <h3 class="test-card-title">å¿ƒè¡€ç®¡å¥åº·é£é™©è¯„ä¼°</h3>
                    <p class="test-card-description">
                        åŸºäºFraminghamå›½é™…æƒå¨æ ‡å‡†ï¼Œç§‘å­¦é¢„æµ‹æ‚¨çš„10å¹´å¿ƒè¡€ç®¡ç–¾ç—…é£é™©ã€‚
                        Framinghamå¿ƒè„ç ”ç©¶å†ç»70å¹´ï¼Œæ˜¯å…¨çƒå…¬è®¤çš„å¿ƒè¡€ç®¡é£é™©è¯„ä¼°é‡‘æ ‡å‡†ï¼Œæä¾›å¿«é€Ÿè¯„ä¼°å’Œæ ‡å‡†è¯„ä¼°ä¸¤ç§æ¨¡å¼ã€‚
                    </p>
                    <div class="test-card-features">
                        <span class="feature-tag">Framinghamæ ‡å‡†</span>
                        <span class="feature-tag">70å¹´éªŒè¯</span>
                        <span class="feature-tag">AIåˆ†æ</span>
                    </div>
                    <div class="test-card-stats">
                        <div class="stat-item">
                            <i class="fas fa-certificate"></i>
                            <span>å›½é™…é‡‘æ ‡å‡†</span>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-hospital"></i>
                            <span>ä¸´åºŠåº”ç”¨</span>
                        </div>
                    </div>
                    <div class="test-card-cta">
                        å¼€å§‹æµ‹è¯• <i class="fas fa-arrow-right"></i>
                    </div>
                </a>
            </div>
        </div>
        
    </div>

    <script>
        // ========== å¥åº·æ•°æ®ç®¡ç†ç±» ==========
        // æ³¨æ„ï¼šHealthDataManager ç°åœ¨ç”± js/health-data-manager.js æä¾›
        // ä»¥ä¸‹æ˜¯æ—§ç‰ˆæœ¬çš„ç±»å®šä¹‰ï¼Œå·²è¢«æ³¨é‡Šæ‰
        /*
        class HealthDataManager {
            constructor() {
                this.userId = this.getOrCreateUserId();
                this.init();
            }
            
            // åˆå§‹åŒ–
            init() {
                console.log('ğŸ’Š å¥åº·æ•°æ®ç®¡ç†ç³»ç»Ÿå·²åˆå§‹åŒ–');
                console.log('ğŸ‘¤ ç”¨æˆ·ID:', this.userId);
                this.checkAndShowDashboard();
                this.updateFabState();
            }
            
            // è·å–æˆ–åˆ›å»ºç”¨æˆ·ID
            getOrCreateUserId() {
                let userId = localStorage.getItem('health_user_id');
                if (!userId) {
                    userId = this.generateUUID();
                    localStorage.setItem('health_user_id', userId);
                    console.log('âœ¨ æ–°ç”¨æˆ·IDå·²åˆ›å»º');
                }
                return userId;
            }
            
            // ç”ŸæˆUUID
            generateUUID() {
                return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                    const r = Math.random() * 16 | 0;
                    const v = c === 'x' ? r : (r & 0x3 | 0x8);
                    return v.toString(16);
                });
            }
            
            // ä¿å­˜æµ‹è¯•ç»“æœ
            saveTestResult(testType, testName, score, level, details = {}) {
                const record = {
                    id: Date.now(),
                    testType: testType,
                    testName: testName,
                    score: score,
                    level: level,
                    date: new Date().toISOString().split('T')[0],
                    timestamp: Date.now(),
                    details: details
                };
                
                const history = this.getHistory();
                const isFirstTest = history.length === 0;
                
                history.push(record);
                localStorage.setItem('health_history', JSON.stringify(history));
                
                console.log('âœ… æµ‹è¯•ç»“æœå·²ä¿å­˜:', record);
                
                // æ›´æ–°æµ®åŠ¨æŒ‰é’®çŠ¶æ€
                this.updateFabState();
                
                // é¦–æ¬¡æµ‹è¯•æ˜¾ç¤ºå¼•å¯¼
                if (isFirstTest) {
                    setTimeout(() => {
                        showFabGuide();
                    }, 500);
                }
                
                return record;
            }
            
            // è·å–å†å²è®°å½•
            getHistory(testType = null) {
                const history = JSON.parse(localStorage.getItem('health_history') || '[]');
                return testType ? history.filter(h => h.testType === testType) : history;
            }
            
            // è·å–æœ€æ–°è®°å½•
            getLatestRecord(testType) {
                const records = this.getHistory(testType);
                return records.length > 0 ? records[records.length - 1] : null;
            }
            
            // è·å–ç»Ÿè®¡ä¿¡æ¯
            getStatistics() {
                const history = this.getHistory();
                const sleepRecords = history.filter(h => h.testType === 'sleep');
                const cardiovascularRecords = history.filter(h => h.testType === 'cardiovascular');
                const stressRecords = history.filter(h => h.testType === 'stress');
                const tcmRecords = history.filter(h => h.testType === 'tcm');
                
                return {
                    totalTests: history.length,
                    sleepCount: sleepRecords.length,
                    cardiovascularCount: cardiovascularRecords.length,
                    stressCount: stressRecords.length,
                    tcmCount: tcmRecords.length,
                    lastTestDate: history.length > 0 ? history[history.length - 1].date : null,
                    completionRate: Math.round((new Set(history.map(h => h.testType)).size / 4) * 100)
                };
            }
            
            // è®¡ç®—ç»¼åˆå¥åº·è¯„åˆ†
            calculateOverallScore() {
                const latest = {
                    sleep: this.getLatestRecord('sleep'),
                    cardiovascular: this.getLatestRecord('cardiovascular'),
                    stress: this.getLatestRecord('stress'),
                    tcm: this.getLatestRecord('tcm')
                };
                
                const scores = [];
                if (latest.sleep) scores.push(latest.sleep.score);
                if (latest.cardiovascular) scores.push(latest.cardiovascular.score);
                if (latest.stress) scores.push(100 - latest.stress.score); // å‹åŠ›è¶Šé«˜åˆ†æ•°è¶Šä½
                if (latest.tcm) scores.push(latest.tcm.score);
                
                if (scores.length === 0) return 0;
                return Math.round(scores.reduce((a, b) => a + b, 0) / scores.length);
            }
            
            // ç”Ÿæˆå¥åº·å»ºè®®
            generateRecommendations() {
                const recommendations = [];
                const latest = {
                    sleep: this.getLatestRecord('sleep'),
                    cardiovascular: this.getLatestRecord('cardiovascular'),
                    stress: this.getLatestRecord('stress'),
                    tcm: this.getLatestRecord('tcm')
                };
                
                if (latest.sleep && latest.sleep.score < 70) {
                    recommendations.push('æ‚¨çš„ç¡çœ è´¨é‡éœ€è¦æ”¹å–„ï¼Œå»ºè®®æ¯æ™šä¿æŒ7-8å°æ—¶ç¡çœ ï¼Œç¡å‰é¿å…ä½¿ç”¨ç”µå­è®¾å¤‡ã€‚');
                }
                
                if (latest.cardiovascular && latest.cardiovascular.score < 60) {
                    recommendations.push('å¿ƒè¡€ç®¡é£é™©åé«˜ï¼Œå»ºè®®å¢åŠ æœ‰æ°§è¿åŠ¨ï¼Œæ§åˆ¶é¥®é£Ÿï¼Œå®šæœŸä½“æ£€ã€‚');
                }
                
                if (latest.stress && latest.stress.score > 60) {
                    recommendations.push('å‹åŠ›æ°´å¹³è¾ƒé«˜ï¼Œå»ºè®®å°è¯•å†¥æƒ³ã€ç‘œä¼½ç­‰æ”¾æ¾æ–¹å¼ï¼Œä¿æŒè§„å¾‹ä½œæ¯ã€‚');
                }
                
                if (!latest.sleep || !latest.cardiovascular || !latest.stress || !latest.tcm) {
                    recommendations.push('å»ºè®®å®Œæˆæ‰€æœ‰æµ‹è¯•ç±»å‹ï¼Œä»¥è·å¾—æ›´å…¨é¢çš„å¥åº·è¯„ä¼°ã€‚');
                }
                
                if (recommendations.length === 0) {
                    recommendations.push('æ‚¨çš„å¥åº·çŠ¶å†µè‰¯å¥½ï¼ç»§ç»­ä¿æŒå¥åº·çš„ç”Ÿæ´»æ–¹å¼ã€‚');
                }
                
                return recommendations;
            }
            
            // å¯¼å‡ºæ•°æ®
            exportData() {
                const data = {
                    version: '1.0',
                    userId: this.userId,
                    exportDate: new Date().toISOString(),
                    history: this.getHistory(),
                    settings: JSON.parse(localStorage.getItem('health_settings') || '{}')
                };
                
                const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `health_data_${Date.now()}.json`;
                a.click();
                URL.revokeObjectURL(url);
                
                alert('âœ… å¥åº·æ•°æ®å·²å¯¼å‡ºï¼');
            }
            
            // å¯¼å…¥æ•°æ®
            importData(jsonData) {
                try {
                    const data = JSON.parse(jsonData);
                    
                    if (!data.userId || !data.history) {
                        throw new Error('æ•°æ®æ ¼å¼é”™è¯¯');
                    }
                    
                    if (confirm('å¯¼å…¥æ•°æ®ä¼šè¦†ç›–å½“å‰æ‰€æœ‰è®°å½•ï¼Œæ˜¯å¦ç»§ç»­ï¼Ÿ')) {
                        localStorage.setItem('health_user_id', data.userId);
                        localStorage.setItem('health_history', JSON.stringify(data.history));
                        if (data.settings) {
                            localStorage.setItem('health_settings', JSON.stringify(data.settings));
                        }
                        
                        alert('âœ… æ•°æ®å¯¼å…¥æˆåŠŸï¼');
                        location.reload();
                        return true;
                    }
                } catch (error) {
                    alert('âŒ æ•°æ®å¯¼å…¥å¤±è´¥ï¼š' + error.message);
                    return false;
                }
            }
            
            // æ¸…ç©ºæ‰€æœ‰æ•°æ®
            clearAllData() {
                if (confirm('âš ï¸ æ­¤æ“ä½œä¸å¯æ¢å¤ï¼ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å¥åº·æ•°æ®å—ï¼Ÿ')) {
                    if (confirm('æœ€åç¡®è®¤ï¼šçœŸçš„è¦åˆ é™¤å—ï¼Ÿ')) {
                        localStorage.removeItem('health_user_id');
                        localStorage.removeItem('health_history');
                        localStorage.removeItem('health_settings');
                        localStorage.removeItem('fab_guide_shown');
                        alert('âœ… æ‰€æœ‰æ•°æ®å·²æ¸…ç©º');
                        location.reload();
                    }
                }
            }
            
            // æ£€æŸ¥å¹¶æ˜¾ç¤ºä»ªè¡¨æ¿
            checkAndShowDashboard() {
                const history = this.getHistory();
                if (history.length > 0) {
                    // æœ‰å†å²è®°å½•ï¼Œæ˜¾ç¤ºä»ªè¡¨æ¿
                    this.renderDashboard();
                    document.getElementById('healthDashboard').style.display = 'block';
                }
            }
            
            // æ¸²æŸ“ä»ªè¡¨æ¿
            renderDashboard() {
                const overallScore = this.calculateOverallScore();
                const trend = this.calculateOverallTrend();
                const stats = this.getStatistics();
                const latest = {
                    sleep: this.getLatestRecord('sleep'),
                    cardiovascular: this.getLatestRecord('cardiovascular'),
                    stress: this.getLatestRecord('stress'),
                    tcm: this.getLatestRecord('tcm')
                };
                
                // æ›´æ–°ç»¼åˆè¯„åˆ†å’Œè¶‹åŠ¿
                document.getElementById('overallScore').textContent = overallScore;
                
                // æ›´æ–°è¶‹åŠ¿æ˜¾ç¤º
                const trendEl = document.getElementById('scoreTrend');
                if (trend.change !== 0) {
                    const arrow = trend.direction === 'up' ? 'â†‘' : 'â†“';
                    const color = trend.direction === 'up' ? '#7ed321' : '#ff6b35';
                    trendEl.innerHTML = `<i class="fas fa-arrow-${trend.direction === 'up' ? 'up' : 'down'}" style="color: ${color}"></i> <span>è¾ƒä¸Šæ¬¡ ${trend.change > 0 ? '+' : ''}${trend.change}</span>`;
                    trendEl.style.color = color;
                } else {
                    trendEl.innerHTML = '<span>æš‚æ— å¯¹æ¯”æ•°æ®</span>';
                    trendEl.style.color = 'rgba(255, 255, 255, 0.8)';
                }
                
                // æ›´æ–°å„é¡¹æŒ‡æ ‡
                this.updateMetric('sleep', latest.sleep);
                this.updateMetric('cardiovascular', latest.cardiovascular);
                this.updateMetric('stress', latest.stress);
                this.updateMetric('tcm', latest.tcm);
                
                // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
                document.getElementById('totalTests').textContent = stats.totalTests;
                document.getElementById('lastTestDate').textContent = stats.lastTestDate || '--';
                document.getElementById('completionRate').textContent = stats.completionRate + '%';
                
                // æ›´æ–°å»ºè®®
                this.renderRecommendations();
            }
            
            // æ›´æ–°å•é¡¹æŒ‡æ ‡
            updateMetric(type, record) {
                const scoreEl = document.getElementById(type + 'Score');
                const barEl = document.getElementById(type + 'Bar');
                
                if (record) {
                    const score = type === 'stress' ? (100 - record.score) : record.score;
                    const previousRecord = this.getPreviousRecord(type);
                    
                    // æ˜¾ç¤ºåˆ†æ•°å’Œè¶‹åŠ¿
                    let scoreHTML = score;
                    if (previousRecord) {
                        const prevScore = type === 'stress' ? (100 - previousRecord.score) : previousRecord.score;
                        const change = score - prevScore;
                        if (change !== 0) {
                            const arrow = change > 0 ? 'â†‘' : 'â†“';
                            const color = change > 0 ? '#7ed321' : '#ff6b35';
                            scoreHTML += ` <span style="font-size: 14px; color: ${color}">${arrow}${Math.abs(change)}</span>`;
                        }
                    }
                    
                    scoreEl.innerHTML = scoreHTML;
                    barEl.style.width = score + '%';
                } else {
                    scoreEl.textContent = '--';
                    barEl.style.width = '0%';
                }
            }
            
            // æ¸²æŸ“å»ºè®®
            renderRecommendations() {
                const recommendations = this.generateRecommendations();
                const listEl = document.getElementById('recommendationList');
                
                listEl.innerHTML = recommendations.map(rec => `
                    <div class="recommendation-item">
                        <div class="recommendation-text">${rec}</div>
                    </div>
                `).join('');
            }
            
            // æ›´æ–°æµ®åŠ¨æŒ‰é’®çŠ¶æ€
            updateFabState() {
                const fabMain = document.getElementById('fabMain');
                
                // å¦‚æœå…ƒç´ è¿˜æœªåŠ è½½ï¼Œç›´æ¥è¿”å›
                if (!fabMain) {
                    return;
                }
                
                const history = this.getHistory();
                
                if (history.length > 0) {
                    // æœ‰æ•°æ®æ—¶æ·»åŠ è„‰å†²åŠ¨ç”»
                    fabMain.classList.add('has-data');
                } else {
                    fabMain.classList.remove('has-data');
                }
            }
        }
        */
        
        // healthDataManager ç”± js/health-data-manager.js è‡ªåŠ¨åˆ›å»ºå¹¶æŒ‚è½½åˆ° window å¯¹è±¡ä¸Š
        // ä¸ºäº†å…¼å®¹æ€§ï¼Œåˆ›å»ºä¸€ä¸ªå¼•ç”¨
        const healthDataManager = window.healthDataManager;

        // ========== UIäº¤äº’å‡½æ•° ==========

        // åˆ‡æ¢ä»ªè¡¨æ¿æ˜¾ç¤º
        function toggleDashboard() {
            const dashboard = document.getElementById('healthDashboard');
            if (dashboard.style.display === 'none') {
                renderDashboard();
                dashboard.style.display = 'block';
                dashboard.scrollIntoView({ behavior: 'smooth', block: 'start' });
            } else {
                dashboard.style.display = 'none';
            }
        }

        // åˆ‡æ¢FABèœå•
        function toggleFabMenu() {
            const menu = document.getElementById('fabMenu');
            menu.classList.toggle('active');
        }

        // æ˜¾ç¤ºå†å²è®°å½•
        function showHistory() {
            const modal = document.getElementById('historyModal');
            modal.classList.add('active');
            
            // å…ˆæ›´æ–°è®¡æ•°
            updateHistoryCounts();
            
            // ç„¶åæ¸²æŸ“æ—¶é—´è½´
            renderHistoryTimeline();
            
            // è°ƒè¯•ï¼šæ˜¾ç¤ºå½“å‰æ•°æ®
            console.log('ğŸ’¾ å½“å‰å¥åº·æ•°æ®:', healthDataManager.getHistory());
        }

        // å…³é—­å†å²è®°å½•å¼¹çª—
        function closeHistoryModal(event) {
            if (event && event.target !== event.currentTarget) return;
            const modal = document.getElementById('historyModal');
            modal.classList.remove('active');
        }

        // æ¸²æŸ“å†å²æ—¶é—´è½´
        function renderHistoryTimeline(filterType = 'all') {
            const history = healthDataManager.getHistory();
            const filtered = filterType === 'all' ? history : history.filter(h => h.testType === filterType);
            const timeline = document.getElementById('historyTimeline');
            const empty = document.getElementById('emptyHistory');
            
            console.log('ğŸ“‹ æ¸²æŸ“å†å²è®°å½•:', { total: history.length, filtered: filtered.length, filterType });
            
            if (filtered.length === 0) {
                timeline.style.display = 'none';
                empty.style.display = 'block';
                return;
            }
            
            timeline.style.display = 'block';
            empty.style.display = 'none';
            
            // æŒ‰æ—¶é—´å€’åºæ’åˆ—
            const sorted = filtered.sort((a, b) => b.timestamp - a.timestamp);
            
            timeline.innerHTML = sorted.map(record => {
                const icon = {
                    'sleep': 'ğŸ˜´',
                    'cardiovascular': 'â¤ï¸',
                    'stress': 'ğŸ§ ',
                    'tcm': 'â˜¯ï¸'
                }[record.testType] || 'ğŸ“Š';
                
                // ç¡®ä¿åˆ†æ•°æ˜¾ç¤ºæ­£ç¡®ï¼ˆå‹åŠ›ç±»å‹è½¬æ¢ä¸ºå¥åº·åº¦ï¼‰
                let displayScore;
                if (typeof record.score === 'number') {
                    // å‹åŠ›ç±»å‹ï¼šè½¬æ¢ä¸ºå¥åº·åº¦ï¼ˆ100 - å‹åŠ›åˆ†æ•°ï¼‰
                    displayScore = record.testType === 'stress' ? (100 - record.score) : record.score;
                } else {
                    displayScore = '--';
                }
                const displayLevel = record.level || 'æœªçŸ¥';
                
                // è°ƒè¯•æ—¥å¿—ï¼ˆå¯é€‰ï¼‰
                if (record.testType === 'stress') {
                    console.log(`ğŸ“Š å‹åŠ›æµ‹è¯•æ˜¾ç¤ºè½¬æ¢: ${record.testName} - åŸå§‹=${record.score}, æ˜¾ç¤º=${displayScore} (å¥åº·åº¦)`);
                }
                
                return `
                    <div class="history-item" data-type="${record.testType}">
                        <div class="history-date">
                            ${icon} ${record.date || 'æ—¥æœŸæœªçŸ¥'} ${record.timestamp ? new Date(record.timestamp).toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' }) : ''}
                        </div>
                        <div class="history-title">${record.testName || 'æµ‹è¯•'}</div>
                        <div class="history-score">${displayScore}${typeof displayScore === 'number' ? 'åˆ†' : ''}</div>
                        <div class="history-level">${displayLevel}</div>
                    </div>
                `;
            }).join('');
        }

        // ç­›é€‰å†å²è®°å½•
        function filterHistory(type) {
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.type === type) {
                    btn.classList.add('active');
                }
            });
            
            // æ¸²æŸ“è¿‡æ»¤åçš„è®°å½•
            renderHistoryTimeline(type);
        }

        // æ›´æ–°å†å²è®°å½•è®¡æ•°
        function updateHistoryCounts() {
            const stats = healthDataManager.getStatistics();
            document.getElementById('countAll').textContent = stats.totalTests;
            document.getElementById('countSleep').textContent = stats.sleepCount;
            document.getElementById('countCardiovascular').textContent = stats.cardiovascularCount;
            document.getElementById('countStress').textContent = stats.stressCount;
            document.getElementById('countTcm').textContent = stats.tcmCount;
        }

        // å¯¼å‡ºæ•°æ®
        function exportData() {
            healthDataManager.exportData();
        }

        // å¯¼å…¥æ•°æ®
        function importData() {
            document.getElementById('importFileInput').click();
        }

        // å¤„ç†æ–‡ä»¶å¯¼å…¥
        function handleImportFile(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = (e) => {
                healthDataManager.importData(e.target.result);
            };
            reader.readAsText(file);
        }

        // æ˜¾ç¤ºæ•°æ®è¯´æ˜
        function showDataInfo() {
            const modal = document.getElementById('dataInfoModal');
            modal.classList.add('active');
            document.getElementById('displayUserId').textContent = healthDataManager.userId;
        }

        // å…³é—­æ•°æ®è¯´æ˜å¼¹çª—
        function closeDataInfoModal(event) {
            if (event && event.target !== event.currentTarget) return;
            const modal = document.getElementById('dataInfoModal');
            modal.classList.remove('active');
        }

        // å¤åˆ¶ç”¨æˆ·ID
        function copyUserId() {
            const userId = healthDataManager.userId;
            navigator.clipboard.writeText(userId).then(() => {
                alert('âœ… ç”¨æˆ·IDå·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
            });
        }

        // ç¡®è®¤æ¸…ç©ºæ•°æ®
        function confirmClearData() {
            healthDataManager.clearAllData();
        }

        // æ˜¾ç¤ºé¦–æ¬¡å¼•å¯¼
        function showFabGuide() {
            // æ£€æŸ¥æ˜¯å¦å·²ç»æ˜¾ç¤ºè¿‡å¼•å¯¼
            if (localStorage.getItem('fab_guide_shown') === 'true') {
                return;
            }
            
            const overlay = document.getElementById('fabGuideOverlay');
            overlay.classList.add('active');
            
            // è®°å½•å·²æ˜¾ç¤ºå¼•å¯¼
            localStorage.setItem('fab_guide_shown', 'true');
        }

        // å…³é—­å¼•å¯¼
        function closeFabGuide(event) {
            if (event && event.target !== event.currentTarget) return;
            
            const overlay = document.getElementById('fabGuideOverlay');
            overlay.classList.remove('active');
            
            // æ‰“å¼€ä»ªè¡¨æ¿å±•ç¤ºæ•°æ®
            setTimeout(() => {
                toggleDashboard();
            }, 300);
        }

        // æ‰‹åŠ¨è§¦å‘å¼•å¯¼ï¼ˆç”¨äºæµ‹è¯•ï¼‰
        function resetFabGuide() {
            localStorage.removeItem('fab_guide_shown');
            showFabGuide();
        }

        // ç§»åŠ¨ç«¯èœå•åˆ‡æ¢
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('active');
        }

        // è¯­è¨€åˆ‡æ¢åŠŸèƒ½
        function switchLanguage(lang) {
            const elements = document.querySelectorAll('[data-zh], [data-en], [data-tw]');
            const buttons = document.querySelectorAll('.lang-btn');
            
            elements.forEach(element => {
                const text = element.getAttribute(`data-${lang}`);
                if (text) {
                    element.textContent = text;
                }
            });
            
            buttons.forEach(button => {
                button.classList.remove('active');
            });
            
            document.querySelectorAll(`.lang-btn`).forEach(button => {
                if ((lang === 'zh' && button.textContent === 'ä¸­æ–‡') ||
                    (lang === 'en' && button.textContent === 'English')) {
                    button.classList.add('active');
                }
            });
            
            localStorage.setItem('preferred-language', lang);
        }

        // æ¸²æŸ“ä»ªè¡¨æ¿
        function renderDashboard() {
            const overallScore = healthDataManager.calculateOverallScore();
            const trend = healthDataManager.calculateOverallTrend();
            const stats = healthDataManager.getStatistics();
            const latest = {
                sleep: healthDataManager.getLatestRecord('sleep'),
                cardiovascular: healthDataManager.getLatestRecord('cardiovascular'),
                stress: healthDataManager.getLatestRecord('stress'),
                tcm: healthDataManager.getLatestRecord('tcm')
            };
            
            // æ›´æ–°ç»¼åˆè¯„åˆ†å’Œè¶‹åŠ¿
            document.getElementById('overallScore').textContent = overallScore;
            
            // æ›´æ–°è¶‹åŠ¿æ˜¾ç¤º
            const trendEl = document.getElementById('scoreTrend');
            if (trend.change !== 0) {
                const arrow = trend.direction === 'up' ? 'â†‘' : 'â†“';
                const color = trend.direction === 'up' ? '#7ed321' : '#ff6b35';
                trendEl.innerHTML = `<i class="fas fa-arrow-${trend.direction === 'up' ? 'up' : 'down'}" style="color: ${color}"></i> <span>è¾ƒä¸Šæ¬¡ ${trend.change > 0 ? '+' : ''}${trend.change}</span>`;
                trendEl.style.color = color;
            } else {
                trendEl.innerHTML = '<span>æš‚æ— å¯¹æ¯”æ•°æ®</span>';
                trendEl.style.color = 'rgba(255, 255, 255, 0.8)';
            }
            
            // æ›´æ–°å„é¡¹æŒ‡æ ‡
            updateMetric('sleep', latest.sleep);
            updateMetric('cardiovascular', latest.cardiovascular);
            updateMetric('stress', latest.stress);
            updateMetric('tcm', latest.tcm);
            
            // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
            document.getElementById('totalTests').textContent = stats.totalTests;
            document.getElementById('lastTestDate').textContent = stats.lastTestDate || '--';
            document.getElementById('completionRate').textContent = stats.completionRate + '%';
            
            // æ›´æ–°å»ºè®®
            renderRecommendations();
        }
        
        // æ›´æ–°å•é¡¹æŒ‡æ ‡
        function updateMetric(type, record) {
            const scoreEl = document.getElementById(type + 'Score');
            const barEl = document.getElementById(type + 'Bar');
            
            if (record) {
                const score = type === 'stress' ? (100 - record.score) : record.score;
                const previousRecord = healthDataManager.getPreviousRecord(type);
                
                // æ˜¾ç¤ºåˆ†æ•°å’Œè¶‹åŠ¿
                let scoreHTML = score;
                if (previousRecord) {
                    const prevScore = type === 'stress' ? (100 - previousRecord.score) : previousRecord.score;
                    const change = score - prevScore;
                    if (change !== 0) {
                        const arrow = change > 0 ? 'â†‘' : 'â†“';
                        const color = change > 0 ? '#7ed321' : '#ff6b35';
                        scoreHTML += ` <span style="font-size: 14px; color: ${color}">${arrow}${Math.abs(change)}</span>`;
                    }
                }
                
                scoreEl.innerHTML = scoreHTML;
                barEl.style.width = score + '%';
            } else {
                scoreEl.textContent = '--';
                barEl.style.width = '0%';
            }
        }
        
        // æ¸²æŸ“å»ºè®®
        function renderRecommendations() {
            const recommendations = healthDataManager.generateRecommendations();
            const listEl = document.getElementById('recommendationList');
            
            listEl.innerHTML = recommendations.map(rec => `
                <div class="recommendation-item">
                    <div class="recommendation-text">${rec}</div>
                </div>
            `).join('');
        }
        
        // æ£€æŸ¥å¹¶è‡ªåŠ¨æ˜¾ç¤ºä»ªè¡¨æ¿ï¼ˆå¦‚æœæœ‰æ•°æ®ï¼‰
        function checkAndShowDashboard() {
            const history = healthDataManager.getHistory();
            if (history.length > 0) {
                // æœ‰å†å²è®°å½•ï¼Œæ˜¾ç¤ºä»ªè¡¨æ¿
                const dashboard = document.getElementById('healthDashboard');
                if (dashboard) {
                    renderDashboard();
                    dashboard.style.display = 'block';
                }
            }
        }
        
        // æ›´æ–°æµ®åŠ¨æŒ‰é’®çŠ¶æ€
        function updateFabState() {
            const fabMain = document.getElementById('fabMain');
            if (!fabMain) return;
            
            const history = healthDataManager.getHistory();
            if (history.length > 0) {
                fabMain.classList.add('has-data');
            } else {
                fabMain.classList.remove('has-data');
            }
        }
        
        // é¡µé¢åŠ è½½æ—¶æ¢å¤è¯­è¨€è®¾ç½®
        document.addEventListener('DOMContentLoaded', function() {
            const savedLang = localStorage.getItem('preferred-language') || 'zh';
            if (savedLang !== 'zh') {
                switchLanguage(savedLang);
            }
            
            // æ£€æŸ¥å¹¶æ˜¾ç¤ºä»ªè¡¨æ¿ï¼ˆå¦‚æœæœ‰å†å²æ•°æ®ï¼‰
            checkAndShowDashboard();
            
            // æ›´æ–°æµ®åŠ¨æŒ‰é’®çŠ¶æ€
            updateFabState();
            
            // æ£€æŸ¥URLå‚æ•°ï¼Œå¦‚æœæœ‰ showDashboard=trueï¼Œè‡ªåŠ¨æ˜¾ç¤ºä»ªè¡¨ç›˜
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('showDashboard') === 'true') {
                setTimeout(() => {
                    toggleDashboard();
                    // æ¸…é™¤URLå‚æ•°
                    window.history.replaceState({}, '', 'health-assessment.html');
                }, 500);
            }
        });
    </script>

    <!-- æµ®åŠ¨æ•°æ®ç®¡ç†æŒ‰é’® -->
    <div class="floating-actions">
        <div class="fab-label-permanent">æˆ‘çš„å¥åº·æ•°æ®</div>
        <button class="fab-main" id="fabMain" onclick="toggleFabMenu()">
            <i class="fas fa-chart-line"></i>
            <div class="fab-tooltip">æŸ¥çœ‹æˆ‘çš„å¥åº·æ•°æ®</div>
        </button>
        <div class="fab-menu" id="fabMenu">
            <button class="fab-item" onclick="toggleDashboard()" title="å¥åº·ä»ªè¡¨æ¿">
                <i class="fas fa-chart-line"></i>
                <span>ä»ªè¡¨æ¿</span>
            </button>
            <button class="fab-item" onclick="showHistory()" title="æµ‹è¯•å†å²">
                <i class="fas fa-history"></i>
                <span>å†å²è®°å½•</span>
            </button>
            <button class="fab-item" onclick="exportData()" title="å¯¼å‡ºæ•°æ®">
                <i class="fas fa-download"></i>
                <span>å¯¼å‡ºæ•°æ®</span>
            </button>
            <button class="fab-item" onclick="importData()" title="å¯¼å…¥æ•°æ®">
                <i class="fas fa-upload"></i>
                <span>å¯¼å…¥æ•°æ®</span>
            </button>
            <button class="fab-item" onclick="showDataInfo()" title="æ•°æ®è¯´æ˜">
                <i class="fas fa-info-circle"></i>
                <span>æ•°æ®è¯´æ˜</span>
            </button>
        </div>
    </div>

    <!-- éšè—çš„æ–‡ä»¶ä¸Šä¼ input -->
    <input type="file" id="importFileInput" accept=".json" style="display: none;" onchange="handleImportFile(event)">

    <!-- æµ‹è¯•å†å²å¼¹çª— -->
    <div class="modal-overlay" id="historyModal" onclick="closeHistoryModal(event)">
        <div class="modal-content history-modal" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>
                    <i class="fas fa-history"></i>
                    æµ‹è¯•å†å²è®°å½•
                </h2>
                <button class="modal-close" onclick="closeHistoryModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <!-- ç­›é€‰å™¨ -->
                <div class="history-filters">
                    <button class="filter-btn active" data-type="all" onclick="filterHistory('all')">
                        å…¨éƒ¨ (<span id="countAll">0</span>)
                    </button>
                    <button class="filter-btn" data-type="sleep" onclick="filterHistory('sleep')">
                        ğŸ˜´ ç¡çœ  (<span id="countSleep">0</span>)
                    </button>
                    <button class="filter-btn" data-type="cardiovascular" onclick="filterHistory('cardiovascular')">
                        â¤ï¸ å¿ƒè¡€ç®¡ (<span id="countCardiovascular">0</span>)
                    </button>
                    <button class="filter-btn" data-type="stress" onclick="filterHistory('stress')">
                        ğŸ§  å‹åŠ› (<span id="countStress">0</span>)
                    </button>
                    <button class="filter-btn" data-type="tcm" onclick="filterHistory('tcm')">
                        â˜¯ï¸ ä½“è´¨ (<span id="countTcm">0</span>)
                    </button>
                </div>
                
                <!-- æ—¶é—´è½´ -->
                <div class="history-timeline" id="historyTimeline">
                    <!-- åŠ¨æ€ç”Ÿæˆå†å²è®°å½• -->
                </div>
                
                <!-- ç©ºçŠ¶æ€ -->
                <div class="empty-state" id="emptyHistory" style="display: none;">
                    <i class="fas fa-inbox"></i>
                    <p>è¿˜æ²¡æœ‰æµ‹è¯•è®°å½•</p>
                    <p class="empty-hint">å®Œæˆæµ‹è¯•åï¼Œè¿™é‡Œä¼šæ˜¾ç¤ºæ‚¨çš„å†å²è®°å½•</p>
                </div>
            </div>
        </div>
    </div>

    <!-- æ•°æ®è¯´æ˜å¼¹çª— -->
    <div class="modal-overlay" id="dataInfoModal" onclick="closeDataInfoModal(event)">
        <div class="modal-content data-info-modal" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h2>
                    <i class="fas fa-shield-alt"></i>
                    å…³äºæ‚¨çš„æ•°æ®
                </h2>
                <button class="modal-close" onclick="closeDataInfoModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <div class="info-section">
                    <h3>ğŸ”’ æ•°æ®å­˜å‚¨æ–¹å¼</h3>
                    <p>æ‚¨çš„æ‰€æœ‰å¥åº·æ•°æ®å­˜å‚¨åœ¨<strong>æœ¬åœ°æµè§ˆå™¨</strong>ä¸­ï¼ˆLocalStorageï¼‰ï¼Œæˆ‘ä»¬ä¸ä¼šä¸Šä¼ ä»»ä½•æ•°æ®åˆ°æœåŠ¡å™¨ã€‚</p>
                </div>
                
                <div class="info-section">
                    <h3>âš ï¸ é‡è¦æç¤º</h3>
                    <ul>
                        <li>æ¸…ç©ºæµè§ˆå™¨æ•°æ®ä¼šå¯¼è‡´è®°å½•ä¸¢å¤±</li>
                        <li>æ›´æ¢æµè§ˆå™¨æˆ–è®¾å¤‡æ— æ³•è‡ªåŠ¨åŒæ­¥</li>
                        <li>å»ºè®®å®šæœŸå¯¼å‡ºå¤‡ä»½æ‚¨çš„æ•°æ®</li>
                    </ul>
                </div>
                
                <div class="info-section">
                    <h3>ğŸ’¾ å¤‡ä»½ä¸æ¢å¤</h3>
                    <p>ç‚¹å‡»"å¯¼å‡ºæ•°æ®"å¯ä¸‹è½½JSONæ ¼å¼çš„å¤‡ä»½æ–‡ä»¶ï¼Œåœ¨å…¶ä»–è®¾å¤‡ä¸Šç‚¹å‡»"å¯¼å…¥æ•°æ®"å³å¯æ¢å¤ã€‚</p>
                </div>
                
                <div class="info-section">
                    <h3>ğŸ”‘ æ‚¨çš„ç”¨æˆ·ID</h3>
                    <p class="user-id-display">
                        <code id="displayUserId">--</code>
                        <button class="copy-btn" onclick="copyUserId()">
                            <i class="fas fa-copy"></i> å¤åˆ¶
                        </button>
                    </p>
                    <p class="user-id-hint">ä¿å­˜æ­¤IDå¯ç”¨äºæ•°æ®æ¢å¤</p>
                </div>
                
                <div class="danger-zone">
                    <h3>ğŸ—‘ï¸ å±é™©æ“ä½œ</h3>
                    <button class="btn-danger" onclick="confirmClearData()">
                        <i class="fas fa-trash-alt"></i>
                        æ¸…ç©ºæ‰€æœ‰æ•°æ®
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- é¦–æ¬¡å¼•å¯¼è’™å±‚ -->
    <div class="fab-guide-overlay" id="fabGuideOverlay" onclick="closeFabGuide(event)">
        <div class="fab-highlight-zone"></div>
        <div class="fab-guide-content" onclick="event.stopPropagation()">
            <div class="fab-guide-icon">ğŸ‰</div>
            <div class="fab-guide-title">æ•°æ®å·²ä¿å­˜æˆåŠŸï¼</div>
            <div class="fab-guide-desc">
                æ‚¨çš„å¥åº·æµ‹è¯•æ•°æ®å·²å®‰å…¨å­˜å‚¨åœ¨æœ¬åœ°ã€‚<br>
                ç‚¹å‡»å³ä¸‹è§’æŒ‰é’®ï¼Œéšæ—¶æŸ¥çœ‹æ‚¨çš„å¥åº·æ€»è§ˆã€å†å²è®°å½•å’Œæ•°æ®ç®¡ç†ã€‚
            </div>
            <button class="fab-guide-btn" onclick="closeFabGuide()">çŸ¥é“äº†</button>
        </div>
        <div class="fab-guide-arrow">ğŸ‘‡</div>
    </div>
</body>
</html>
